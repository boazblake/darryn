!function(){"use strict";var e="undefined"==typeof global?self:global;if("function"!=typeof e.require){var t={},r={},n={},i={}.hasOwnProperty,a=/^\.\.?(\/|$)/,o=function(e,t){for(var r,n=[],i=(a.test(t)?e+"/"+t:t).split("/"),o=0,u=i.length;o<u;o++)r=i[o],".."===r?n.pop():"."!==r&&""!==r&&n.push(r);return n.join("/")},u=function(e){return e.split("/").slice(0,-1).join("/")},c=function(t){return function(r){var n=o(u(t),r);return e.require(n,t)}},d=function(e,t){var n=g&&g.createHot(e),i={id:e,exports:{},hot:n};return r[e]=i,t(i.exports,c(e),i),i.exports},s=function(e){var t=n[e];return t&&e!==t?s(t):e},f=function(e,t){return s(o(u(e),t))},l=function(e,n){null==n&&(n="/");var a=s(e);if(i.call(r,a))return r[a].exports;if(i.call(t,a))return d(a,t[a]);throw new Error("Cannot find module '"+e+"' from '"+n+"'")};l.alias=function(e,t){n[t]=e};var m=/\.[^.\/]+$/,v=/\/index(\.[^\/]+)?$/,p=function(e){if(m.test(e)){var t=e.replace(m,"");i.call(n,t)&&n[t].replace(m,"")!==t+"/index"||(n[t]=e)}if(v.test(e)){var r=e.replace(v,"");i.call(n,r)||(n[r]=e)}};l.register=l.define=function(e,n){if(e&&"object"==typeof e)for(var a in e)i.call(e,a)&&l.register(a,e[a]);else t[e]=n,delete r[e],p(e)},l.list=function(){var e=[];for(var r in t)i.call(t,r)&&e.push(r);return e};var g=e._hmr&&new e._hmr(f,l,t,r);l._cache=r,l.hmr=g&&g.wrap,l.brunch=!0,e.require=l}}(),function(){"undefined"==typeof window?this:window;require.register("addcard.js",function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var n=function(e){var t=e.attrs.mdl,r={name:t.card.name,back:t.card.back,front:t.card.front},n=function(e,t){return m.route.set("/picture",{mdl:t,side:e})},i=function(e){t.idCards.push(e),m.route.set("/home")};return{view:function(e){var t=e.attrs.mdl;return m(".container.columns",[m(".form-group",[m("label","NAME: "),m("input",{type:"text",value:r.name,oninput:function(e){return t.card.name=e.target.value}})]),m(".column.col-12",r.front?m("img",{src:r.front.src}):m(".card.empty",{onclick:function(e){return n("front",t)}},[m(".icon icon-photo"),m("p","Add Front")])),m(".column.col-12",r.back?m("img",{src:r.back.src}):m(".card.empty",{onclick:function(){return n("back",t)}},[m(".icon icon-photo"),m("p","Add Back")])),m("button.btn.btn-lg",{onclick:function(e){return i(r)}},"SAVE")])}}},i=n;e["default"]=i}),require.register("app.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var i=n(t("./layout.js")),a=n(t("./home.js")),o=n(t("./addcard.js")),u=n(t("./card.js")),c=n(t("./picture.js")),d=function(e){return{"/home":{onmatch:function(){e.page="ID Cards"},render:function(){return m(i["default"],{mdl:e},m(a["default"],{mdl:e}))}},"/addcard":{onmatch:function(){e.page="Add New Card"},render:function(){return m(i["default"],{mdl:e},m(o["default"],{mdl:e}))}},"/picture":{onmatch:function(t){var r=t.side;e.side=r,e.page="".concat(r," picture")},render:function(){return m(i["default"],{mdl:e},m(c["default"],{mdl:e}))}},"/:idcard":{onmatch:function(t){var r=t.idcard;e.page=r},render:function(){return m(i["default"],{mdl:e},m(u["default"],{mdl:e}))}}}},s=d;e["default"]=s}),require.register("card.js",function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var n=function(){return{view:function(e){e.attrs.mdl;return m(".card","CARD")}}},i=n;e["default"]=i}),require.register("home.js",function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var n=function(){return{view:function(e){var t=e.attrs.card;return m(".card",[m("label",t.name),m("img",{width:100,src:t.front.src})])}}},i=function(){return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&m.route.set("/addcard")},a=function(e){e.card.front=void 0,e.card.back=void 0,e.card.name=void 0},o=function(e){var t=e.attrs.mdl;return{oninit:function(){return a(t)},view:function(e){var t=e.attrs.mdl;return m(".container.columns",[t.idCards&&t.idCards.map(function(e){return m(n,{mdl:t,card:e})}),m("button.empty.col-12",{onclick:i},[m(".icon icon-photo"),m("p","Add a New Card")])])}}},u=o;e["default"]=u}),require.register("index.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i=n(t("./app.js")),a=n(t("./model.js"));m.route(document.body,"/home",(0,i["default"])(a["default"]))}),require.register("initialize.js",function(e,t,r){"use strict";document.addEventListener("DOMContentLoaded",function(){t("./index.js")})}),require.register("layout.js",function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var n=function(){return{view:function(e){var t=e.attrs.mdl;return m(".header",t.page)}}},i=function(){return{view:function(e){var t=e.children,r=e.attrs.mdl;return m(".container",[m(n,{mdl:r}),t])}}},a=i;e["default"]=a}),require.register("model.js",function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var n={page:"",idCards:[],stream:void 0,card:{front:void 0,back:void 0,name:void 0}},i=n;e["default"]=i}),require.register("picture.js",function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var n=function(e,t){navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia({video:!0}).then(function(r){t.stream=r,e.srcObject=r,e.play()})},i=function(e){var t=document.getElementById("video"),r=new Image;document.getElementById("canvas").getContext("2d").drawImage(t,0,0,640,480),r.src=document.getElementById("canvas").toDataURL("image/png"),e.card[e.side]=r,m.route.set("/addcard")},a=function(){return{view:function(e){var t=e.attrs.mdl;return m(".container",[m("video",{id:"video",oncreate:function(e){var r=e.dom;return n(r,t)},width:640,height:480}),m("canvas",{style:{display:"none"},id:"canvas",width:640,height:480}),m("button",{onclick:function(){return i(t)}},"Save")])},onremove:function(e){var t=e.attrs.mdl;return t.stream.getTracks().forEach(function(e){e.stop()})}}},o=a;e["default"]=o}),require.register("___globals___",function(e,t,r){window.m=t("mithril"),window.Stream=t("mithril-stream")})}(),require("___globals___");