!function(){"use strict";var t="undefined"==typeof global?self:global;if("function"!=typeof t.require){var e={},r={},n={},o={}.hasOwnProperty,i=/^\.\.?(\/|$)/,u=function(t,e){for(var r,n=[],o=(i.test(e)?t+"/"+e:e).split("/"),u=0,a=o.length;u<a;u++)r=o[u],".."===r?n.pop():"."!==r&&""!==r&&n.push(r);return n.join("/")},a=function(t){return t.split("/").slice(0,-1).join("/")},c=function(e){return function(r){var n=u(a(e),r);return t.require(n,e)}},s=function(t,e){var n=v&&v.createHot(t),o={id:t,exports:{},hot:n};return r[t]=o,e(o.exports,c(t),o),o.exports},l=function(t){var e=n[t];return e&&t!==e?l(e):t},f=function(t,e){return l(u(a(t),e))},m=function(t,n){null==n&&(n="/");var i=l(t);if(o.call(r,i))return r[i].exports;if(o.call(e,i))return s(i,e[i]);throw new Error("Cannot find module '"+t+"' from '"+n+"'")};m.alias=function(t,e){n[e]=t};var d=/\.[^.\/]+$/,g=/\/index(\.[^\/]+)?$/,p=function(t){if(d.test(t)){var e=t.replace(d,"");o.call(n,e)&&n[e].replace(d,"")!==e+"/index"||(n[e]=t)}if(g.test(t)){var r=t.replace(g,"");o.call(n,r)||(n[r]=t)}};m.register=m.define=function(t,n){if(t&&"object"==typeof t)for(var i in t)o.call(t,i)&&m.register(i,t[i]);else e[t]=n,delete r[t],p(t)},m.list=function(){var t=[];for(var r in e)o.call(e,r)&&t.push(r);return t};var v=t._hmr&&new t._hmr(f,m,e,r);m._cache=r,m.hmr=v&&v.wrap,m.brunch=!0,t.require=m}}(),function(){var t;"undefined"==typeof window?this:window;require.register("Http.js",function(t,e,r){"use strict";function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach(function(e){i(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u(){return!1}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=t.parseHttpSuccess=t.parseHttpError=void 0;var a="https://conduit.productionready.io/api/",c=function(t){return function(e){e.lengthComputable&&(t.state.loadingProgress.max=e.total,t.state.loadingProgress.value=e.loaded,m.redraw())}},s=function(t){return function(e){return t.state.isLoading=!0,!1}},l=function(t){return function(e){return t.state.isLoading=!1,t.state.loadingProgress.max=0,t.state.loadingProgress.value=0,!1}},f=function(t){return{config:function(e){e.onprogress=c(t),e.onload=u,e.onloadstart=s(t),e.onloadend=l(t)}}},d=function(t){return function(e){return function(r){return t.state.isLoading=!1,e(r.response.errors)}}};t.parseHttpError=d;var g=function(t){return function(e){return function(r){return t.state.isLoading=!1,e(r)}}};t.parseHttpSuccess=g;var p=function(){return sessionStorage.getItem("token")?{authorization:sessionStorage.getItem("token")}:""},v=function(t){return function(e){return function(r){return function(n){return function(i){return!["POST","PUT","DELETE"].includes(e)||r.state.isLoggedIn()||["/login","/register"].includes(r.slug)?(r.state.isLoading=!0,new Task(function(u,c){return m.request(o({method:e,url:a+n,headers:o({"content-type":"application/json"},t),body:i,withCredentials:!1},f(r))).then(g(r)(c),d(r)(u))})):Task.rejected(m.route.set("/register"))}}}}},b={getTask:function(t){return function(e){return v(p())("GET")(t)(e)(null)}},deleteTask:function(t){return function(e){return v(p())("DELETE")(t)(e)(null)}},postTask:function(t){return function(e){return function(r){return v(p())("POST")(t)(e)(r)}}},putTask:function(t){return function(e){return function(r){return v(p())("PUT")(t)(e)(r)}}}},h=b;t["default"]=h}),require.register("Utils.js",function(t,e,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sanitizeImg=t.log=void 0;var n=function(t){return function(e){return console.log(t,e),e}};t.log=n;var o=function(t){return t&&t.match(/\.(jpeg|jpg|gif|png|svg)$/)?t:null};t.sanitizeImg=o}),require.register("components/articles.js",function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0}),t.Articles=void 0;var o=n(e("Http")),i=e("Utils"),u=function(t){return"articles/".concat(t,"/favorite")},a=function(t){return function(e){return function(r){return t.postTask(e)(u(r))()}}},c=function(t){return function(e){return function(r){return t.deleteTask(e)(u(r))}}},s=function(t){var e=t.attrs,r=e.mdl,n=e.article,u=n,s=function(t,e){var n=(0,i.log)("toggleArticleLike err-art"),s=function(t){var e=t.article,r=e.favorited,n=e.favoritesCount;u.favorited=r,u.favoritesCount=n},l=t?c:a;l(o["default"])(r)(e).fork(n,s)};return{view:function(){return m(".article-preview",[m(".article-meta",[m(m.route.Link,{href:"/profile/".concat(u.author.username),options:{replace:!0}},m("img",{src:(0,i.sanitizeImg)(u.author.image)})),m(".info",[m(m.route.Link,{"class":"author",href:"/profile/".concat(u.author.username),options:{replace:!0}},u.author.username),m("span.date",u.createdAt)]),m("button.btn btn-outline-primary btn-sm pull-xs-right",{onclick:function(t){return s(u.favorited,u.slug)},"class":u.favorited&&"active"},[m("i.ion-heart.p-5"),m("span",u.favoritesCount)])]),m(m.route.Link,{"class":"preview-link",href:"/article/".concat(u.slug)},[m("h1",u.title),m("p",u.description),m("ul.tag-list",u.tagList.map(function(t){return m("li.tag-default tag-pill tag-outline",t)})),m("span","Read more...")])])}}},l=function(){return{view:function(t){var e=t.attrs,r=e.mdl,n=e.data;return n.articles.length?n.articles.map(function(t){return m(s,{mdl:r,data:n,article:t})}):m("p","No articles are here... yet.")}}};t.Articles=l}),require.register("components/banner.js",function(t,e,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Banner=void 0;var n=function(){return{view:function(t){var e=t.children;return m(".banner",m(".container",e))}}};t.Banner=n}),require.register("components/comments.js",function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0}),t.Comments=void 0;var o=n(e("Http")),i=e("Utils"),u=e("ramda"),a=function(t){return function(e){return function(r){return t.getTask(e)("articles/".concat(r,"/comments"))}}},c=function(t){return function(e){return function(r){return function(n){return t.deleteTask(e)("articles/".concat(r,"/comments/").concat(n))}}}},s=(0,u.over)((0,u.lensProp)("body"),u.trim),l=function(t){return function(e){return function(r){return t.postTask(e)("articles/".concat(e.slug,"/comments"))({comment:r})}}},f=function(t){var e=t.attrs,r=e.mdl,n=e.reload,u={body:""},a=(0,i.log)("Error with form "),c=function(){u.body="",n()},f=function(t){return l(o["default"])(r)(s(t)).fork(a,c)};return{oninit:function(){return u.body=""},view:function(t){var e=t.attrs.mdl;return m("form.card.comment-form",[m(".card-block",m("textarea.form-control",{rows:3,placeholder:"Write a comment ...",onchange:function(t){return u.body=t.target.value},value:u.body})),m(".card-footer",[m("img.comment-author-img",{src:(0,i.sanitizeImg)(e.user.image)}),m("button.btn.btn-sm.btn-primary",{onclick:function(t){return f(u)}}," Post Comment ")])])}}},d=function(){return{view:function(t){var e=t.attrs,r=e.mdl,n=e.comment,o=n.author,u=o.image,a=o.username,c=n.body,s=n.createdAt,l=n.id,f=e.deleteComment;return m(".card",[m(".card-block",m("p.card-text",c)),m(".card-footer",[m(m.route.Link,{"class":"comment-author"},m("img.comment-author-img",{src:(0,i.sanitizeImg)(u)}))," ",m.trust("&nbsp;")," ",m(m.route.Link,{"class":"comment-author"},a),m("span.date-posted",s),a==r.user.username&&m("span.mod-options",[m("i.ion-trash-a",{onclick:function(t){return f(l)}})])])])}}},g=function(t){var e=t.attrs.mdl,r={comments:[]},n=function(t){var e=function(t){var e=t.comments;return r.comments=e},n=(0,i.log)("error with coomments");a(o["default"])(t)(t.slug).fork(n,e)},u=function(t){var n=function(t){var e=t.comments;return r.comments=e},u=(0,i.log)("error with coomments");c(o["default"])(e)(e.slug)(t).chain(function(t){return a(o["default"])(e)(e.slug)}).fork(u,n)};return{oninit:function(t){var e=t.attrs.mdl;return n(e)},view:function(t){var e=t.attrs.mdl;return m(".row",m(".col-xs-12.col-md-8.offset-md-2",[m(f,{mdl:e,reload:function(){return n(e)}}),r.comments.map(function(t){return m(d,{mdl:e,comment:t,deleteComment:function(t){return u(t)}})})]))}}};t.Comments=g}),require.register("components/feed-nav.js",function(t,e,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FeedNav=void 0;var n=e("ramda"),o=function(t){var e=t.attrs.fetchData;return{view:function(t){var r=t.attrs,o=r.mdl,i=r.data;return m(".feed-toggle",m("ul.nav nav-pills outline-active",[o.state.isLoggedIn()&&m("li.nav-item",m("a.nav-link ".concat("feed"==i.tags.current&&"active"),{onclick:function(t){i.tags.current="feed",e(o)}},"Your Feed")),m("li.nav-item",m("a.nav-link ".concat(""==i.tags.current&&"active"),{onclick:function(t){i.tags.current="",e(o)}},"Global Feed")),i.tags.selected.map(function(t){return m("li.nav-item",m("a.nav-link ".concat(i.tags.current==t&&"active"),[m("span",{onclick:function(r){i.tags.current=t,e(o)}},"# ".concat(t)),m("i.ion-close-circled.p-5",{onclick:function(e){return i.tags.selected=(0,n.without)(t,i.tags.selected)}})]))})]))}}};t.FeedNav=o}),require.register("components/follow-favorite.js",function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0}),t.FollowFavorite=void 0;var o=n(e("Http")),i=e("Utils"),u=function(t){return"articles/".concat(t)},a=function(t){return"articles/".concat(t,"/favorite")},c=function(t){return"profiles/".concat(t,"/follow")},s=function(t){return function(e){return t.deleteTask(e)(u(e.slug))}},l=function(t){return function(e){return t.postTask(e)(a(e.slug))()}},f=function(t){return function(e){return t.deleteTask(e)(a(e.slug))}},d=function(t){return function(e){return function(r){return t.postTask(e)(c(r))()}}},g=function(t){return function(e){return function(r){return t.deleteTask(e)(c(r))}}},p=function(t){var e=t.attrs,r=e.mdl,n=e.data,u=function(t){var e=t.favorited,u=(0,i.log)("toggleArticleLike err-art"),a=function(t){var e=t.article,r=e.favorited,o=e.favoritesCount;n.favorited=r,n.favoritesCount=o},c=e?f:l;c(o["default"])(r).fork(u,a)},a=function(t){var e=t.author,u=e.username,a=e.following,c=(0,i.log)("toggleAuthorFollow, err-auth"),s=function(t){var e=t.profile.following;return n.author.following=e},l=a?g:d;l(o["default"])(r)(u).fork(c,s)},c=function(t){var e=(0,i.log)("deleteArticle, err-auth"),n=function(t){console.log(t),m.route.set("/home")};s(o["default"])(r).fork(e,n)};return{view:function(t){var e=t.attrs,r=e.mdl,o=e.data,s=o.author,l=s.username,f=s.image,d=s.following,g=o.favoritesCount,p=o.favorited,v=o.createdAt,b=o.slug;return m(".article-meta",[m(m.route.Link,{href:"profile/".concat(l)},m("img",{src:(0,i.sanitizeImg)(f)})),m(".info",[m(m.route.Link,{"class":"author",href:"profile/".concat(l)},l),m("span.date",v)]),r.user.username==l?[m(m.route.Link,{"class":"btn btn-sm btn-outline-secondary",href:"/editor/".concat(b),selector:"button"},[m("i.ion-edit.p-5"),"Edit Article"]),m("button.btn.btn-sm.btn-outline-danger.m-5",{onclick:function(t){return c(b)}},[m("i.ion-trash-a.m-5"),"Delete Article "])]:[m("button.btn.btn-sm.btn-outline-secondary",{onclick:function(t){return a(n)}},[d?[m("i.ion-minus-round")," Unfollow ".concat(l," ")]:[m("i.ion-plus-round")," Follow ".concat(l," ")]]),m("button.btn.btn-sm.btn-outline-primary.m-5",{onclick:function(t){return u(n)}},[m("i.ion-heart.m-5"),p?" Unfavorite Article ":" Favorite Article ",m("span.counter","( ".concat(g," )"))])]])}}};t.FollowFavorite=p}),require.register("components/index.js",function(t,e,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=e("./banner");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}})});var o=e("./loader");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})});var i=e("./paginator");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})});var u=e("./articles");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}})});var a=e("./follow-favorite");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})});var c=e("./comments");Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}})});var s=e("./feed-nav");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}})});var l=e("./sidebar");Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}})})}),require.register("components/loader.js",function(t,e,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Loader=void 0;var n=function(){return{view:function(t){var e=t.children;return m(".container",m(".banner",m(".container",e)))}}};t.Loader=n}),require.register("components/paginator.js",function(t,e,r){"use strict";function n(t){return u(t)||i(t)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function i(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function u(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}Object.defineProperty(t,"__esModule",{value:!0}),t.Paginator=void 0;var a=function(){return{view:function(t){var e=t.attrs,r=e.state,o=e.fetchDataFor,i=Math.ceil(r.total/r.limit)+1,u=r.offset/r.limit+1,a=n(Array(i).keys()).slice(1);return r.total>r.limit&&m("ul.pagination",a.map(function(t,e){return m("li.page-item ".concat(t==u&&"active"),m(".page-link active",{onclick:function(t){return o(e*r.limit)}},t))}))}}};t.Paginator=a}),require.register("components/sidebar.js",function(t,e,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SideBar=void 0;var n=function(){var t=function(t,e){return function(r){return t.tags.selected.push(e)}};return{view:function(e){var r=e.attrs,n=(r.mdl,r.data);return m(".sidebar",[m("p","Popular Tags"),m(".tag-list",n.tags.tagList.map(function(e){return m(".tag-pill tag-default",{onclick:t(n,e)},e)}))])}}};t.SideBar=n}),require.register("index.js",function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var o=n(e("./routes.js")),i=n(e("./model.js")),u=document.body,a=window.innerWidth;r.hot&&r.hot.accept(),"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("./service-worker.js").then(function(t){console.log("⚙️ SW registered: ",t)})["catch"](function(t){console.log("🧟 SW registration failed: ",t)})});var c=function(t){return t<668?"phone":t<920?"tablet":"desktop"},s=function l(t){var e=window.innerWidth;if(t!==e){t=e;var r=i["default"].settings.profile;i["default"].settings.profile=c(e),r!=i["default"].settings.profile&&m.redraw()}return requestAnimationFrame(l)};i["default"].settings.profile=c(a),s(a),sessionStorage.getItem("user")&&(i["default"].user=JSON.parse(sessionStorage.getItem("user"))),m.route(u,"/home",(0,o["default"])(i["default"]))}),require.register("initialize.js",function(t,e,r){"use strict";document.addEventListener("DOMContentLoaded",function(){e("./index.js")})}),require.register("layout/footer.js",function(t,e,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var n=function(){return{view:function(){return m("footer",m("div",{"class":"container"},[m("a",{"class":"logo-font",href:"/"},"conduit"),m("span",{"class":"attribution"},[" An interactive learning project from ",m("a",{href:"https://thinkster.io"},"Thinkster"),". Code ",m.trust("&amp;")," design licensed under MIT. "])]))}}},o=n;t["default"]=o}),require.register("layout/header.js",function(t,e,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var n=function(){return{view:function(t){var e=t.attrs.mdl;return m("nav.navbar navbar-light",m(".container",m("a.navbar-brand",{href:"#"},"conduit"),m("ul.nav navbar-nav pull-xs-right",e.state.isLoggedIn()?[m("li.nav-item",m(m.route.Link,{"class":"nav-link",href:"/editor"},[m("i.ion-compose.p-5"),"New Article"])),m("li.nav-item",m(m.route.Link,{"class":"nav-link",href:"/settings/".concat(e.user.username)},[m("i.ion-gear-a.p-5"),"Settings"])),m("li.nav-item",m(m.route.Link,{"class":"nav-link",href:"/profile/".concat(e.user.username)},e.user.username))]:[m("li.nav-item",m(m.route.Link,{"class":"nav-link",href:"/register"},"Sign up")),m("li.nav-item",m(m.route.Link,{"class":"nav-link",href:"/login"},"Login"))])))}}},o=n;t["default"]=o}),require.register("layout/index.js",function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=n(e("./header.js")),i=n(e("./footer.js")),u=function(){return{view:function(t){var e=t.children,r=t.attrs.mdl;return m("",[m(o["default"],{mdl:r}),e,m(i["default"],{mdl:r})])}}},a=u;t["default"]=a}),require.register("model.js",function(t,e,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var n={state:{isLoading:!1,loadingProgress:{max:0,value:0},isLoggedIn:function(){return sessionStorage.getItem("token")}},settings:{},page:"",user:{}},o=n;t["default"]=o}),require.register("pages/article.js",function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=n(e("Http")),i=e("components"),u=n(e("marked")),a=function(t){return function(e){return function(r){return t.getTask(e)("articles/".concat(r))}}},c=function(){var t={},e={status:"loading",error:null},r=function(r){var n=r.article,o=r.comments;t.article=n,t.comments=o,e.status="success"},n=function(t){console.log("error",t),e.error=t,e.status="error"},c=function(t){e.status="loading",a(o["default"])(t)(t.slug).fork(n,r)};return{oninit:function(t){var e=t.attrs.mdl;return c(e)},view:function(r){var n=r.attrs.mdl;return m(".article-page",["loading"==e.status&&m(i.Banner,[m("h1.logo-font","Loading ...")]),"error"==e.status&&m(i.Banner,[m("h1.logo-font","Error Loading Data: ".concat(e.error))]),"success"==e.status&&[m(".banner",m(".container",[m("h1",t.article.title),m(i.FollowFavorite,{mdl:n,data:t.article})])),m(".container.page",[m(".row.article-content",m(".col-md-12.text-justify",m.trust((0,u["default"])(t.article.body)))),m("hr"),m(".article-actions",[m(i.FollowFavorite,{mdl:n,data:t.article})]),m(i.Comments,{mdl:n,comments:t.comments,reloadArticle:function(){return c(n)}})])]])}}},s=c;t["default"]=s}),require.register("pages/editor.js",function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=t.submitArticleTask=t.loadArticleTask=void 0;var o=n(e("Http")),i=e("ramda"),u=function(t){return function(e){return function(r){return t.getTask(e)("articles/".concat(r))}}};t.loadArticleTask=u;var a=(0,i.over)((0,i.lensProp)("tagList"),(0,i.compose)(i.uniq,(0,i.split)(" "),i.trim)),c=function(t){return function(e){return function(r){return t.postTask(e)("articles")({article:a(r)})}}};t.submitArticleTask=c;var s=function(t){var e=t.attrs.mdl,r={},n={},i=function(t){var e=function(t){var e=t.article;return r=e},i=function(t){return n.errors=t};"/editor"!==t.slug&&u(o["default"])(t)(t.slug).fork(i,e)},a=function(t){var r=function(t){var e=t.article.slug;return m.route.set("/article/".concat(e))},i=function(t){return n.errors=t};c(o["default"])(e)(t).fork(i,r)};return{oninit:function(t){var e=t.attrs.mdl;return i(e)},view:function(){return m(".editor-page",m(".container.page",m(".row",m(".col-md-10.offset-md-1.col-xs-12",m("form",[m("fieldset.form-group",m("input.form-control.form-control-lg",{type:"text",placeholder:"Article Title",onchange:function(t){return r.title=t.target.value},value:r.title})),m("fieldset.form-group",m("input.form-control.form-control-lg",{type:"text",placeholder:"What's this article about?",onchange:function(t){return r.description=t.target.value},value:r.description})),m("fieldset.form-group",m("textarea.form-control.form-control-lg",{rows:8,placeholder:"Write your article (in markdown)",onchange:function(t){return r.body=t.target.value},value:r.body})),m("fieldset.form-group",m("input.form-control.form-control-lg",{type:"text",placeholder:"Enter tags",onchange:function(t){return r.tagList=t.target.value},value:r.tagList})),m("button.btn-lg.pull-xs-right.btn-primary",{onclick:function(t){return a(r)}}," Publish Article ")])))))}}},l=s;t["default"]=l}),require.register("pages/home.js",function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach(function(e){u(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function u(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var a=n(e("Http")),c=e("components"),s=function(t){return function(e){return t.getTask(e)("tags")}},l=function(t){return function(e){return function(r){return function(n){return"feed"==n.tags.current?t.getTask(e)("articles/feed?limit=20&offset=".concat(r.offset)):t.getTask(e)("articles?limit=20&offset=".concat(r.offset,"&tag=").concat(n.tags.current))}}}},f=function(t){return function(e){return function(r){return function(n){return Task.of(function(t){return function(e){return i({},t,{},e)}}).ap(s(t)(e)).ap(l(t)(e)(r)(n))}}}},d=function(){var t={tags:{tagList:[],selected:[],current:""},articles:{}},e={feedStatus:"loading",pageStatus:"loading",limit:20,offset:0,total:0,error:null},r=function(r){var n=function(r){var n=r.articles,o=r.articlesCount,i=r.tags;t.articles=n,e.total=o,t.tags.tagList=i,e.pageStatus="success",e.feedStatus="success"},o=function(t){console.log("error",t),e.error=t,e.pageStatus="error"};e.pageStatus="loading",f(a["default"])(r)(e)(t).fork(o,n)},n=function(r){var n=function(r){var n=r.articles,o=r.articlesCount;t.articles=n,e.total=o,e.feedStatus="success"},o=function(t){console.log("error",t),e.error=t,e.feedStatus="error"};e.feedStatus="loading",l(a["default"])(r)(e)(t).fork(o,n)};return{oninit:function(t){var e=t.attrs.mdl;return r(e)},view:function(r){var o=r.attrs.mdl;return m(".home-page",[!o.state.isLoggedIn()&&m(c.Banner,[m("h1.logo-font","conduit"),m("p","A place to share your knowledge.")]),"loading"==e.pageStatus&&m(c.Loader,[m("h1.logo-font","Loading Data")]),"error"==e.pageStatus&&m(c.Banner,[m("h1.logo-font","Error Loading Data: ".concat(e.error))]),"success"==e.pageStatus&&m(".container page",m(".row",[m(".col-md-9",[m(c.FeedNav,{fetchData:n,mdl:o,data:t}),"loading"==e.feedStatus&&m("p","Loading Articles ..."),"success"==e.feedStatus?e.total?[m(c.Articles,{mdl:o,data:t}),m(c.Paginator,{mdl:o,state:e,fetchDataFor:function(t){e.offset=t,n(o)}})]:m("p.pull-xs-left","No articles are here... yet."):""]),m(".col-md-3",m(c.SideBar,{mdl:o,data:t}))]))])}}},g=d;t["default"]=g}),require.register("pages/login.js",function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=t.loginTask=void 0;var o=n(e("Http")),i=function(t){return function(e){return function(r){return t.postTask(e)("users/login")({user:r})}}};t.loginTask=i;var u=function(){var t={errors:{}},e={email:"",password:""},r=function(r){var n=function(t){var e=t.user;sessionStorage.setItem("token","Token ".concat(e.token)),sessionStorage.setItem("user",JSON.stringify(e)),r.user=e,m.route.set("/home")},u=function(e){t.errors=e,console.log(t.errors)};i(o["default"])(r)(e).fork(u,n)};return{view:function(n){var o=n.attrs.mdl;return m("div.auth-page",m("div.container.page",m("div.row",m("div.col-md-6.offset-md-3.col-xs-12",[m("h1.text-xs-center","Login"),m("p.text-xs-center",m(m.route.Link,{href:"/register"},"Need an account?"),t.errors["email or password"]&&m(".error-messages",m("span","email or password  ".concat(t.errors["email or password"])))),m("form",[m("fieldset.form-group",m("input.form-control.form-control-lg",{type:"text",placeholder:"email",onchange:function(t){return e.email=t.target.value},value:e.email,onblur:function(e){return t.isSubmitted&&validate}}),t.errors.email&&m(".error-messages",m("span",t.errors.email))),m("fieldset.form-group",m("input.form-control.form-control-lg",{type:"password",placeholder:"password",onchange:function(t){return e.password=t.target.value},value:e.password,onblur:function(e){return t.isSubmitted&&validate}})),m("button.btn.btn-lg.btn-primary.pull-xs-right",{type:"submit",onclick:function(t){return r(o)}},"Login")])]))))}}},a=u;t["default"]=a}),require.register("pages/profile.js",function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach(function(e){u(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function u(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=t.loadInitDataTask=t.loadDataTask=void 0;var a=n(e("Http")),c=e("Utils"),s=e("components"),l=function(t){return"profiles/".concat(t,"/follow")},f=function(t){return function(e){return function(r){return t.postTask(e)(l(r))()}}},d=function(t){return function(e){return function(r){return t.deleteTask(e)(l(r))}}},g=function(t){return function(e){return function(r){return t.getTask(e)("profiles/".concat(r))}}},p=function(t){return function(e){return function(r){return function(n){return t.getTask(e)("articles?limit=".concat(r.limit,"&offset=").concat(r.offset,"&author=").concat(n))}}}},v=function(t){return function(e){return function(r){return function(n){return t.getTask(e)("articles?limit=".concat(r.limit,"&offset=").concat(r.offset,"&favorited=").concat(n))}}}},b=function(t){return function(e){return function(r){return r.showFaveArticles?v(t)(e)(r)(e.slug):p(t)(e)(r)(e.slug)}}};t.loadDataTask=b;var h=function(t){return function(e){return function(r){return Task.of(function(t){return function(e){return i({},t,{authorArticles:e})}}).ap(g(t)(e)(e.slug)).ap(p(t)(e)(r)(e.slug))}}};t.loadInitDataTask=h;var k=function(t){var e=t.attrs.mdl,r={authorArticles:{articles:[],articlesCount:0},authorFavoriteArticles:{articles:[],articlesCount:0}},n={pageStatus:"loading",feedStatus:"loading",showFaveArticles:!1,limit:5,offset:0,total:0,error:null},o=function(t){var e=function(t){n.showFaveArticles?r.authorFavoriteArticles=t:r.authorArticles=t,n.total=n.showFaveArticles?r.authorFavoriteArticles.articlesCount:r.authorArticles.articlesCount,n.feedStatus="success"},o=function(t){console.log("error",t),n.error=t,n.feedStatus="error"};n.feedStatus="loading",b(a["default"])(t)(n).fork(o,e)},i=function(t){var e=function(t){var e=t.authorArticles,o=t.profile;r.authorArticles=e,r.profile=o,n.pageStatus="success",n.feedStatus="success",n.total=r.authorArticles.articlesCount},o=function(t){console.log("error",t),n.error=t,n.pageStatus="error",m.route.set("/home")};n.pageStatus="loading",h(a["default"])(t)(n).fork(o,e)},u=function(t){n.showFaveArticles=t,n.offset=0,o(e)},l=function(t){var n=t.author,o=n.username,i=n.following,u=(0,c.log)("toggleAuthorFollow, err-auth"),s=function(t){var e=t.profile.following;return r.profile.following=e},l=i?d:f;l(a["default"])(e)(o).fork(u,s)};return{oninit:function(t){var e=t.attrs.mdl;return i(e)},view:function(t){var e=t.attrs.mdl;return m(".profile-page","loading"==n.pageStatus&&m(s.Loader,[m("h1.logo-font","Loading ...")]),"error"==n.pageStatus&&m(s.Banner,[m("h1.logo-font","Error Loading Data: ".concat(n.error))]),"success"==n.pageStatus&&[m(".user-info",m(".container",m(".row",m(".col-xs-12.col-md-10.offset-md-1",[m("img.user-img",{src:(0,c.sanitizeImg)(r.profile.image)}),m("h4",r.profile.username),m("p",r.profile.bio),r.profile.username!==e.user.username?m("button.btn.btn-sm.btn-outline-secondary.action-btn",{onclick:function(t){l({author:{username:r.profile.username,following:r.profile.following}})}},[r.profile.following?[m("i.ion-minus-round")," Unfollow ".concat(r.profile.username," ")]:[m("i.ion-plus-round")," Follow ".concat(r.profile.username," ")]]):m("button.btn.btn-sm.btn-outline-secondary.action-btn",{onclick:function(t){return m.route.set("/settings/".concat(r.profile.username))}},[m("i.ion-gear-a.p-5"),"Edit Profile Settings"])])))),m(".container",m(".row",m(".col-xs-12.col-md-10.offset-md-1",[m(".articles-toggle",m("ul.nav.nav-pills.outline-active",[m("li.nav-item",m("a.nav-link ".concat(!n.showFaveArticles&&"active"),{onclick:function(t){return u(!1)}},"My Articles")),m("li.nav-item",m("a.nav-link ".concat(n.showFaveArticles&&"active"),{onclick:function(t){return u(!0)}},"Favorited Articles"))])),"loading"==n.feedStatus&&"Loading Articles...","error"==n.feedStatus&&m(s.Banner,[m("h1.logo-font","Error Loading Data: ".concat(n.error))]),"success"==n.feedStatus&&[n.showFaveArticles?m(s.Articles,{mdl:e,data:r.authorFavoriteArticles}):m(s.Articles,{mdl:e,data:r.authorArticles}),m(s.Paginator,{mdl:e,state:n,fetchDataFor:function(t){n.offset=t,o(e)}})]])))])}}},y=k;t["default"]=y}),require.register("pages/register.js",function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=n(e("Http")),i=function(t){return function(e){return function(r){return t.postTask(e)("users")({user:r})}}},u=function(t){return Object.keys(t).map(function(e){return{key:e,values:t[e]}})},a=function(){var t={errors:[]},e={username:"",email:"",password:""},r=function(r){var n=function(t){var e=t.user;r.user=e,sessionStorage.setItem("token","Token ".concat(e.token)),m.route.set("/home"),console.log("success",e)},a=function(e){t.errors=u(e),console.log(e)};t.isSubmitted=!0,i(o["default"])(r)(e).fork(a,n)};return{view:function(n){var o=n.attrs.mdl;return m(".auth-page",m(".container.page",m(".row",m(".col-md-6.offset-md-3.col-xs-12",[m("h1.text-xs-center","Sign Up"),m("p.text-xs-center",m(m.route.Link,{href:"/login"},"Have an account?")),t.errors&&t.errors.map(function(t){return m(".error-messages",m("ul","".concat(t.key),t.values.map(function(t){return m("li",t)})))}),m("form",[m("fieldset.form-group",m("input.form-control.form-control-lg",{
type:"text",placeholder:"Your Name",onchange:function(t){return e.username=t.target.value},value:e.username})),m("fieldset.form-group",m("input.form-control.form-control-lg",{type:"text",placeholder:"email",onchange:function(t){return e.email=t.target.value},value:e.email})),m("fieldset.form-group",m("input.form-control.form-control-lg",{type:"password",placeholder:"password",onchange:function(t){return e.password=t.target.value},value:e.password})),m("button.btn.btn-lg.btn-primary.pull-xs-right",{type:"submit",onclick:function(t){return r(o)}},"Sign Up")])]))))}}},c=a;t["default"]=c}),require.register("pages/user.js",function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=n(e("Http")),i=e("Utils"),u=function(){sessionStorage.clear(),m.route.set("/home")},a=function(t){return function(e){return function(r){return t.putTask(e)("user")(r)}}},c=function(t){var e=t.attrs.mdl.user,r=e.image,n=e.username,c=e.password,s=e.bio,l=e.email,f={image:r,username:n,password:c,bio:s,email:l},d=function(t,e){var r=function(e){var r=e.user;sessionStorage.setItem("user",JSON.stringify(r)),t.user=r,console.log(t.user),m.route.set("/home")},n=(0,i.log)("error");a(o["default"])(t)(e).fork(n,r)};return{view:function(t){var e=t.attrs.mdl;return m(".settings-page",m(".container.page",m(".row",m(".col-md-6.offset-md-3.col-xs-12",[m("h1.text-xs-center","Your Settings"),m("form",m("fieldset",[m("fieldset.form-group",m("input.form-control.form-control-lg",{type:"text",placeholder:"URL of profile picture",onchange:function(t){return f.image=t.target.value},value:f.image})),m("fieldset.form-group",m("input.form-control.form-control-lg",{type:"text",placeholder:"Your Name",onchange:function(t){return f.username=t.target.value},value:f.username})),m("fieldset.form-group",m("textarea.form-control.form-control-lg",{placeholder:"Short bio about you",onchange:function(t){return f.bio=t.target.value},value:f.bio})),m("fieldset.form-group",m("fieldset.form-group",m("input.form-control.form-control-lg",{type:"text",placeholder:"Email",onchange:function(t){return f.email=t.target.value},value:f.email}))),m("fieldset.form-group",m("fieldset.form-group",m("input.form-control.form-control-lg",{type:"password",placeholder:"Password",onchange:function(t){return f.password=t.target.value},value:f.password}))),m("button.btn.btn-lg.btn-primary.pull-xs-right",{onclick:function(t){return d(e,f)}}," Update Settings "),m("button.btn.btn-outline-danger.pull-xs-right",{onclick:function(t){return u(e,f)}},"Or click here to logout.")]))]))))}}},s=c;t["default"]=s}),require.register("routes.js",function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=n(e("./layout/index")),i=n(e("./pages/home")),u=n(e("./pages/article")),a=n(e("./pages/profile")),c=n(e("./pages/register")),s=n(e("./pages/login")),l=n(e("./pages/user")),f=n(e("./pages/editor")),d=function(t){return{"/home":{onmatch:function(e,r){t.slug=r},render:function(){return m(o["default"],{mdl:t},m(i["default"],{mdl:t}))}},"/editor":{onmatch:function(e,r){t.slug=r},render:function(){return m(o["default"],{mdl:t},m(f["default"],{mdl:t,key:t.slug}))}},"/editor/:slug":{onmatch:function(e){var r=e.slug;t.slug=r},render:function(){return m(o["default"],{mdl:t},m(f["default"],{mdl:t}))}},"/article/:slug":{onmatch:function(e){var r=e.slug;t.slug=r},render:function(){return m(o["default"],{mdl:t},m(u["default"],{mdl:t}))}},"/profile/:slug":{onmatch:function(e){var r=e.slug;t.slug=r},render:function(){return m(o["default"],{mdl:t},m(a["default"],{mdl:t,key:t.slug}))}},"/settings/:slug":{onmatch:function(e){var r=e.slug;t.slug=r},render:function(){return m(o["default"],{mdl:t},m(l["default"],{mdl:t,key:t.slug}))}},"/login":{onmatch:function(e,r){t.slug=r},render:function(){return m(o["default"],{mdl:t},m(s["default"],{mdl:t}))}},"/register":{onmatch:function(e,r){t.slug=r},render:function(){return m(o["default"],{mdl:t},m(c["default"],{mdl:t}))}}}},g=d;t["default"]=g}),require.alias("process/browser.js","process"),t=require("process"),require.register("___globals___",function(t,e,r){window.m=e("mithril"),window.Task=e("data.task")})}(),require("___globals___");