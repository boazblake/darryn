{"version":3,"sources":["app/Http.js","app/Utils.js","app/components/articles.js","app/components/banner.js","app/components/comments.js","app/components/feed-nav.js","app/components/follow-favorite.js","app/components/index.js","app/components/loader.js","app/components/paginator.js","app/components/sidebar.js","app/index.js","app/initialize.js","app/layout/footer.js","app/layout/header.js","app/layout/index.js","app/model.js","app/pages/article.js","app/pages/editor.js","app/pages/home.js","app/pages/login.js","app/pages/profile.js","app/pages/register.js","app/pages/settings.js","app/routes.js"],"names":["api","onProgress","mdl","e","lengthComputable","state","loadingProgress","max","total","value","loaded","m","redraw","onLoad","onLoadStart","isLoading","onLoadEnd","xhrProgress","config","xhr","onprogress","onload","onloadstart","onloadend","parseHttpError","rej","response","errors","parseHttpSuccess","res","data","getUserToken","sessionStorage","getItem","authorization","call","_headers","method","url","body","Task","request","headers","withCredentials","then","Http","getTask","deleteTask","postTask","log","v","console","ArticlePreview","view","attrs","article","author","image","username","createdAt","favoritesCount","title","description","tagList","slug","route","Link","href","options","replace","src","map","tag","Articles","articles","Banner","children","getCommentsTask","http","deleteCommentTask","id","trimBody","trim","submitTask","comment","CommentForm","reload","onError","onSuccess","submit","fork","oninit","rows","placeholder","onchange","target","user","onclick","Comment","deleteComment","trust","Comments","comments","loadComments","chain","x","c","FeedNav","fetchData","tags","current","selected","FollowFavorite","selector","Loader","Paginator","fetchDataFor","limit","offset","range","Array","keys","slice","page","SideBar","selectTag","push","root","document","winW","window","innerWidth","module","hot","accept","process","env","NODE_ENV","navigator","addEventListener","serviceWorker","register","registration","registrationError","getProfile","w","checkWidth","lastProfile","model","settings","profile","requestAnimationFrame","JSON","parse","require","footer","Header","Layout","Footer","getArticleTask","Article","status","error","loadData","reloadArticle","loadArticleTask","formatTags","uniq","submitArticleTask","Editor","initEditor","submitData","set","type","getTagsTask","getArticlesTask","loadDataTask","of","ap","Home","feedStatus","pageStatus","loadInitData","articlesCount","loadArticles","loginTask","Login","email","password","onSubmit","setItem","token","stringify","onblur","isSubmitted","validate","getProfileTask","getAuthorArticlesTask","getAuthorFavoriteArticlesTask","authorArticles","authorFavoriteArticles","Profile","showFaveArticles","bio","registerTask","errorViewModel","err","Object","k","key","values","Register","loadTask","Settings","routes","onmatch","render"],"mappings":"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","file":"docs/app.js","sourcesContent":["const api = \"https://conduit.productionready.io/api/\"\r\n\r\nconst onProgress = (mdl) => (e) => {\r\n  if (e.lengthComputable) {\r\n    mdl.state.loadingProgress.max = e.total\r\n    mdl.state.loadingProgress.value = e.loaded\r\n    m.redraw()\r\n  }\r\n}\r\n\r\nfunction onLoad() {\r\n  return false\r\n}\r\n\r\nconst onLoadStart = (mdl) => (e) => {\r\n  mdl.state.isLoading = true\r\n  return false\r\n}\r\n\r\nconst onLoadEnd = (mdl) => (e) => {\r\n  mdl.state.isLoading = false\r\n  mdl.state.loadingProgress.max = 0\r\n  mdl.state.loadingProgress.value = 0\r\n  return false\r\n}\r\n\r\nconst xhrProgress = (mdl) => ({\r\n  config: (xhr) => {\r\n    xhr.onprogress = onProgress(mdl)\r\n    xhr.onload = onLoad\r\n    xhr.onloadstart = onLoadStart(mdl)\r\n    xhr.onloadend = onLoadEnd(mdl)\r\n  },\r\n})\r\n\r\nexport const parseHttpError = (mdl) => (rej) => (e) => {\r\n  mdl.state.isLoading = false\r\n  return rej(e.response.errors)\r\n}\r\n\r\nexport const parseHttpSuccess = (mdl) => (res) => (data) => {\r\n  mdl.state.isLoading = false\r\n  return res(data)\r\n}\r\n\r\nconst getUserToken = () =>\r\n  sessionStorage.getItem(\"token\")\r\n    ? { authorization: sessionStorage.getItem(\"token\") }\r\n    : \"\"\r\n\r\nconst call = (_headers) => (method) => (mdl) => (url) => (body) => {\r\n  mdl.state.isLoading = true\r\n  return new Task((rej, res) =>\r\n    m\r\n      .request({\r\n        method,\r\n        url: api + url,\r\n        headers: {\r\n          \"content-type\": \"application/json\",\r\n          ..._headers,\r\n        },\r\n        body,\r\n        withCredentials: false,\r\n        ...xhrProgress(mdl),\r\n      })\r\n      .then(parseHttpSuccess(mdl)(res), parseHttpError(mdl)(rej))\r\n  )\r\n}\r\n\r\nconst Http = {\r\n  getTask: (mdl) => (url) => call(getUserToken())(\"GET\")(mdl)(url)(null),\r\n  deleteTask: (mdl) => (url) => call(getUserToken())(\"DELETE\")(mdl)(url)(null),\r\n  postTask: (mdl) => (url) => (data) =>\r\n    call(getUserToken())(\"POST\")(mdl)(url)(data),\r\n}\r\n\r\nexport default Http\r\n","export const log = (m) => (v) => {\r\n  console.log(m, v)\r\n  return v\r\n}\r\n","const ArticlePreview = () => {\r\n  return {\r\n    view: ({\r\n      attrs: {\r\n        article: {\r\n          author: { image, username },\r\n          createdAt,\r\n          favoritesCount,\r\n          title,\r\n          description,\r\n          tagList,\r\n          slug,\r\n        },\r\n      },\r\n    }) => {\r\n      return m(\".article-preview\", [\r\n        m(\".article-meta\", [\r\n          m(\r\n            m.route.Link,\r\n            { href: `/profile/${username}`, options: { replace: true } },\r\n            m(\"img\", { src: image })\r\n          ),\r\n\r\n          m(\".info\", [\r\n            m(\r\n              m.route.Link,\r\n              {\r\n                class: \"author\",\r\n                href: `/profile/${username}`,\r\n                options: { replace: true },\r\n              },\r\n              username\r\n            ),\r\n            m(\"span.date\", createdAt),\r\n          ]),\r\n          m(\r\n            \"button.btn btn-outline-primary btn-sm pull-xs-right\",\r\n\r\n            [m(\"i.ion-heart\"), m(\"span\", favoritesCount)]\r\n          ),\r\n        ]),\r\n        m(m.route.Link, { class: \"preview-link\", href: `/article/${slug}` }, [\r\n          m(\"h1\", title),\r\n          m(\"p\", description),\r\n          m(\r\n            \"ul.tag-list\",\r\n            tagList.map((tag) => m(\"li.tag-default tag-pill tag-outline\", tag))\r\n          ),\r\n          m(\"span\", \"Read more...\"),\r\n        ]),\r\n      ])\r\n    },\r\n  }\r\n}\r\n\r\nexport const Articles = () => {\r\n  return {\r\n    view: ({ attrs: { mdl, data } }) =>\r\n      data.articles\r\n        ? data.articles.map((article) =>\r\n            m(ArticlePreview, { mdl, data, article })\r\n          )\r\n        : m(\"p\", \"No articles are here... yet.\"),\r\n  }\r\n}\r\n","export const Banner = () => {\r\n  return {\r\n    view: ({ children }) => m(\".banner\", m(\".container\", children)),\r\n  }\r\n}\r\n","import Http from \"Http\"\r\nimport { log } from \"Utils\"\r\nimport { lensProp, over, trim } from \"ramda\"\r\n\r\nconst getCommentsTask = (http) => (mdl) => (slug) =>\r\n  http.getTask(mdl)(`articles/${slug}/comments`)\r\n\r\nconst deleteCommentTask = (http) => (mdl) => (slug) => (id) =>\r\n  http.deleteTask(mdl)(`articles/${slug}/comments/${id}`)\r\n\r\nconst trimBody = over(lensProp(\"body\"), trim)\r\n\r\nconst submitTask = (http) => (mdl) => (comment) => {\r\n  console.log(\"comment\", comment)\r\n  return http.postTask(mdl)(`articles/${mdl.slug}/comments`)({ comment })\r\n}\r\n\r\nconst CommentForm = ({ attrs: { mdl, reload } }) => {\r\n  const comment = { body: \"\" }\r\n\r\n  const onError = log(\"Error with form \")\r\n\r\n  const onSuccess = () => {\r\n    comment.body = \"\"\r\n    reload()\r\n  }\r\n\r\n  const submit = (comment) =>\r\n    submitTask(Http)(mdl)(trimBody(comment)).fork(onError, onSuccess)\r\n\r\n  return {\r\n    oninit: () => (comment.body = \"\"),\r\n    view: ({ attrs: { mdl } }) =>\r\n      m(\"form.card.comment-form\", [\r\n        m(\r\n          \".card-block\",\r\n          m(\"textarea.form-control\", {\r\n            rows: 3,\r\n            placeholder: \"Write a comment ...\",\r\n            onchange: (e) => (comment.body = e.target.value),\r\n            value: comment.body,\r\n          })\r\n        ),\r\n        m(\".card-footer\", [\r\n          m(\"img.comment-author-img\", { src: mdl.user.image }),\r\n          m(\r\n            \"button.btn.btn-sm.btn-primary\",\r\n            { onclick: (e) => submit(comment) },\r\n            \" Post Comment \"\r\n          ),\r\n        ]),\r\n      ]),\r\n  }\r\n}\r\n\r\nconst Comment = () => {\r\n  return {\r\n    view: ({\r\n      attrs: {\r\n        mdl,\r\n        comment: {\r\n          author: { image, username },\r\n          body,\r\n          createdAt,\r\n          id,\r\n        },\r\n        deleteComment,\r\n      },\r\n    }) =>\r\n      m(\".card\", [\r\n        m(\".card-block\", m(\"p.card-text\", body)),\r\n        m(\".card-footer\", [\r\n          m(\r\n            m.route.Link,\r\n            { class: \"comment-author\" },\r\n            m(\"img.comment-author-img\", { src: image })\r\n          ),\r\n          \" \",\r\n          m.trust(\"&nbsp;\"),\r\n          \" \",\r\n          m(m.route.Link, { class: \"comment-author\" }, username),\r\n          m(\"span.date-posted\", createdAt),\r\n          username == mdl.user.username &&\r\n            m(\"span.mod-options\", [\r\n              m(\"i.ion-trash-a\", { onclick: (e) => deleteComment(id) }),\r\n            ]),\r\n        ]),\r\n      ]),\r\n  }\r\n}\r\n\r\nexport const Comments = ({ attrs: { mdl } }) => {\r\n  const data = { comments: [] }\r\n\r\n  const loadComments = (mdl) => {\r\n    const onSuccess = ({ comments }) => (data.comments = comments)\r\n\r\n    const onError = log(\"error with coomments\")\r\n\r\n    getCommentsTask(Http)(mdl)(mdl.slug).fork(onError, onSuccess)\r\n  }\r\n\r\n  const deleteComment = (id) => {\r\n    const onSuccess = ({ comments }) => (data.comments = comments)\r\n\r\n    const onError = log(\"error with coomments\")\r\n\r\n    deleteCommentTask(Http)(mdl)(mdl.slug)(id)\r\n      .chain((x) => getCommentsTask(Http)(mdl)(mdl.slug))\r\n      .fork(onError, onSuccess)\r\n  }\r\n\r\n  return {\r\n    oninit: ({ attrs: { mdl } }) => loadComments(mdl),\r\n    view: ({ attrs: { mdl } }) =>\r\n      m(\r\n        \".row\",\r\n        m(\".col-xs-12.col-md-8.offset-md-2\", [\r\n          m(CommentForm, { mdl, reload: () => loadComments(mdl) }),\r\n          data.comments.map((c) =>\r\n            m(Comment, {\r\n              mdl,\r\n              comment: c,\r\n              deleteComment: (id) => deleteComment(id),\r\n            })\r\n          ),\r\n        ])\r\n      ),\r\n  }\r\n}\r\n","import { isEmpty, without } from \"ramda\"\n\nexport const FeedNav = ({ attrs: { fetchData } }) => {\n  return {\n    view: ({ attrs: { mdl, data } }) => {\n      return m(\n        \".feed-toggle\",\n        m(\"ul.nav nav-pills outline-active\", [\n          !isEmpty(mdl.user) &&\n            m(\n              \"li.nav-item\",\n              m(\n                `.nav-link ${data.tags.current == \"feed\" && \"active\"}`,\n                {\n                  onclick: (e) => {\n                    data.tags.current = \"feed\"\n                    fetchData(mdl)\n                  },\n                },\n                \"Your Feed\"\n              )\n            ),\n\n          m(\n            \"li.nav-item\",\n            m(\n              `.nav-link ${data.tags.current == \"\" && \"active\"}`,\n              {\n                onclick: (e) => {\n                  data.tags.current = \"\"\n                  fetchData(mdl)\n                },\n              },\n              \"Global Feed\"\n            )\n          ),\n\n          data.tags.selected.map((tag) =>\n            m(\n              \"li.nav-item\",\n              m(`.nav-link ${data.tags.current == tag && \"active\"}`, [\n                m(\n                  \"span\",\n                  {\n                    onclick: (e) => {\n                      data.tags.current = tag\n                      fetchData(mdl)\n                    },\n                  },\n                  tag\n                ),\n                m(\"i.ion-close-circled\", {\n                  onclick: (e) =>\n                    (data.tags.selected = without(tag, data.tags.selected)),\n                }),\n              ])\n            )\n          ),\n        ])\n      )\n    },\n  }\n}\n","export const FollowFavorite = () => {\r\n  return {\r\n    view: ({\r\n      attrs: {\r\n        mdl,\r\n        data: {\r\n          author: { username, image },\r\n          createdAt,\r\n          slug,\r\n        },\r\n      },\r\n    }) => {\r\n      return m(\r\n        \".article-actions\",\r\n        m(\".article-meta\", [\r\n          m(\r\n            m.route.Link,\r\n            { href: `profile/${username}` },\r\n            m(\"img\", { src: image })\r\n          ),\r\n          m(\".info\", [\r\n            m(\r\n              m.route.Link,\r\n              { class: \"author\", href: `profile/${username}` },\r\n              username\r\n            ),\r\n            m(\"span.date\", createdAt),\r\n          ]),\r\n          mdl.user.username == username\r\n            ? m(\r\n                m.route.Link,\r\n                {\r\n                  class: \"btn btn-sm btn-outline-secondary\",\r\n                  href: `/editor/${slug}`,\r\n                  selector: \"button\",\r\n                },\r\n                [m(\"i.ion-edit\"), \"Edit Article\"]\r\n              )\r\n            : m(\"button.btn.btn-sm.btn-outline-secondary\", [\r\n                m(\"i.ion-plus-round\"),\r\n                \" \",\r\n                m.trust(\"&nbsp;\"),\r\n                ` Follow ${username} `,\r\n                m(\"span.counter\", \"(10)\"),\r\n              ]),\r\n          \" \",\r\n          m.trust(\"&nbsp;\"),\r\n          m.trust(\"&nbsp;\"),\r\n          \" \",\r\n          m(\"button.btn.btn-sm.btn-outline-primary\", [\r\n            m(\"i.ion-heart\"),\r\n            \" \",\r\n            m.trust(\"&nbsp;\"),\r\n            \" Favorite Post \",\r\n            m(\"span.counter\", \"(29)\"),\r\n          ]),\r\n        ])\r\n      )\r\n    },\r\n  }\r\n}\r\n","export * from \"./banner\"\r\nexport * from \"./loader\"\r\nexport * from \"./paginator\"\r\nexport * from \"./articles\"\r\nexport * from \"./follow-favorite\"\r\nexport * from \"./comments\"\r\nexport * from \"./feed-nav\"\r\nexport * from \"./sidebar\"\r\n","export const Loader = () => {\r\n  return {\r\n    view: ({ children }) =>\r\n      m(\".container\", m(\".banner\", m(\".container\", children))),\r\n  }\r\n}\r\n","export const Paginator = () => {\r\n  return {\r\n    view: ({ attrs: { state, fetchDataFor } }) => {\r\n      let total = state.total / state.limit\r\n      let current = state.offset / state.limit\r\n      let range = [...Array(total).keys()].slice(1)\r\n      return m(\r\n        \"ul.pagination\",\r\n        range.map((page) => {\r\n          return m(\r\n            `li.page-item ${page == current && \"active\"}`,\r\n            m(\".page-link active\", { onclick: (e) => fetchDataFor(page) }, page)\r\n          )\r\n        })\r\n      )\r\n    },\r\n  }\r\n}\r\n","export const SideBar = () => {\n  const selectTag = (data, tag) => (e) => data.tags.selected.push(tag)\n\n  return {\n    view: ({ attrs: { mdl, data } }) => {\n      return m(\".sidebar\", [\n        m(\"p\", \"Popular Tags\"),\n        m(\n          \".tag-list\",\n          data.tags.tagList.map((tag) =>\n            m(\".tag-pill tag-default\", { onclick: selectTag(data, tag) }, tag)\n          )\n        ),\n      ])\n    },\n  }\n}\n","import routes from \"./routes.js\"\nimport model from \"./model.js\"\n\nconst root = document.body\nlet winW = window.innerWidth\n\nif (module.hot) {\n  module.hot.accept()\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  console.log(\"Looks like we are in development mode!\")\n} else {\n  if (\"serviceWorker\" in navigator) {\n    window.addEventListener(\"load\", () => {\n      navigator.serviceWorker\n        .register(\"./service-worker.js\")\n        .then((registration) => {\n          console.log(\"⚙️ SW registered: \", registration)\n        })\n        .catch((registrationError) => {\n          console.log(\"🧟 SW registration failed: \", registrationError)\n        })\n    })\n  }\n}\n\n// set display profiles\nconst getProfile = (w) => {\n  if (w < 668) return \"phone\"\n  if (w < 920) return \"tablet\"\n  return \"desktop\"\n}\n\nconst checkWidth = (winW) => {\n  const w = window.innerWidth\n  if (winW !== w) {\n    winW = w\n    var lastProfile = model.settings.profile\n    model.settings.profile = getProfile(w)\n    if (lastProfile != model.settings.profile) m.redraw()\n  }\n  return requestAnimationFrame(checkWidth)\n}\n\nmodel.settings.profile = getProfile(winW)\n\ncheckWidth(winW)\n\nif (sessionStorage.getItem(\"user\")) {\n  model.user = JSON.parse(sessionStorage.getItem(\"user\"))\n}\n\nm.route(root, \"/home\", routes(model))\n","document.addEventListener(\"DOMContentLoaded\", () => {\n  require(\"./index.js\")\n})\n","const footer = () => {\r\n  return {\r\n    view: () =>\r\n      m(\r\n        \"footer\",\r\n        m(\"div\", { class: \"container\" }, [\r\n          m(\"a\", { class: \"logo-font\", href: \"/\" }, \"conduit\"),\r\n          m(\"span\", { class: \"attribution\" }, [\r\n            \" An interactive learning project from \",\r\n            m(\"a\", { href: \"https://thinkster.io\" }, \"Thinkster\"),\r\n            \". Code \",\r\n            m.trust(\"&amp;\"),\r\n            \" design licensed under MIT. \",\r\n          ]),\r\n        ])\r\n      ),\r\n  }\r\n}\r\n\r\nexport default footer\r\n","import { isEmpty } from \"ramda\"\r\n\r\nconst Header = () => {\r\n  return {\r\n    view: ({ attrs: { mdl } }) =>\r\n      m(\r\n        \"nav.navbar navbar-light\",\r\n        m(\r\n          \".container\",\r\n          m(\"a.navbar-brand\", { href: \"#\" }, \"conduit\"),\r\n          m(\r\n            \"ul.nav navbar-nav pull-xs-right\",\r\n            isEmpty(mdl.user)\r\n              ? [\r\n                  m(\r\n                    \"li.nav-item\",\r\n                    m(\r\n                      m.route.Link,\r\n                      { class: \"nav-link\", href: \"/register\" },\r\n                      \"Sign up\"\r\n                    )\r\n                  ),\r\n                  m(\r\n                    \"li.nav-item\",\r\n                    m(\r\n                      m.route.Link,\r\n                      { class: \"nav-link\", href: \"/login\" },\r\n                      \"Login\"\r\n                    )\r\n                  ),\r\n                ]\r\n              : [\r\n                  m(\r\n                    \"li.nav-item\",\r\n                    m(\r\n                      m.route.Link,\r\n                      { class: \"nav-link\", href: \"/editor\" },\r\n                      \"New Article\"\r\n                    )\r\n                  ),\r\n                  m(\r\n                    \"li.nav-item\",\r\n                    m(\r\n                      m.route.Link,\r\n                      {\r\n                        class: \"nav-link\",\r\n                        href: `/settings/${mdl.user.username}`,\r\n                      },\r\n                      \"Settings\"\r\n                    )\r\n                  ),\r\n                  m(\r\n                    \"li.nav-item\",\r\n                    m(\r\n                      m.route.Link,\r\n                      {\r\n                        class: \"nav-link\",\r\n                        href: `/profile/${mdl.user.username}`,\r\n                      },\r\n                      mdl.user.username\r\n                    )\r\n                  ),\r\n                ]\r\n          )\r\n        )\r\n      ),\r\n  }\r\n}\r\n\r\nexport default Header\r\n","import Header from \"./header.js\"\r\nimport Footer from \"./footer.js\"\r\n\r\nconst Layout = () => {\r\n  return {\r\n    view: ({ children, attrs: { mdl } }) =>\r\n      m(\"\", [m(Header, { mdl }), children, m(Footer, { mdl })]),\r\n  }\r\n}\r\n\r\nexport default Layout\r\n","const model = {\n  state: { isLoading: false, loadingProgress: { max: 0, value: 0 } },\n  settings: {},\n  page: \"\",\n  user: {},\n}\n\nexport default model\n","import Http from \"Http\"\r\nimport { Banner, FollowFavorite, Comments } from \"components\"\r\nimport md from \"marked\"\r\n\r\nconst getArticleTask = (http) => (mdl) => (slug) =>\r\n  http.getTask(mdl)(`articles/${slug}`)\r\n\r\nconst Article = () => {\r\n  const data = {}\r\n  const state = {\r\n    status: \"loading\",\r\n    error: null,\r\n  }\r\n\r\n  const onSuccess = ({ article, comments }) => {\r\n    data.article = article\r\n    data.comments = comments\r\n    state.status = \"success\"\r\n  }\r\n\r\n  const onError = (error) => {\r\n    console.log(\"error\", error)\r\n    state.error = error\r\n    state.status = \"error\"\r\n  }\r\n\r\n  const loadData = (mdl) => {\r\n    state.status = \"loading\"\r\n    getArticleTask(Http)(mdl)(mdl.slug).fork(onError, onSuccess)\r\n  }\r\n\r\n  return {\r\n    oninit: ({ attrs: { mdl } }) => loadData(mdl),\r\n    view: ({ attrs: { mdl } }) =>\r\n      m(\".article-page\", [\r\n        state.status == \"loading\" &&\r\n          m(Banner, [m(\"h1.logo-font\", \"Loading ...\")]),\r\n        state.status == \"error\" &&\r\n          m(Banner, [m(\"h1.logo-font\", `Error Loading Data: ${state.error}`)]),\r\n\r\n        state.status == \"success\" && [\r\n          m(\r\n            \".banner\",\r\n            m(\".container\", [\r\n              m(\"h1\", data.article.title),\r\n              m(FollowFavorite, {\r\n                mdl,\r\n                data: data.article,\r\n              }),\r\n            ])\r\n          ),\r\n          m(\".container.page\", [\r\n            m(\r\n              \".row.article-content\",\r\n              m(\".col-md-12.text-justify\", m.trust(md(data.article.body)))\r\n            ),\r\n            m(\"hr\"),\r\n\r\n            m(FollowFavorite, {\r\n              mdl,\r\n              data: data.article,\r\n            }),\r\n            m(Comments, {\r\n              mdl,\r\n              comments: data.comments,\r\n              reloadArticle: () => loadData(mdl),\r\n            }),\r\n          ]),\r\n        ],\r\n      ]),\r\n  }\r\n}\r\n\r\nexport default Article\r\n","import Http from \"Http\"\r\nimport { compose, lensProp, over, split, trim, uniq } from \"ramda\"\r\n\r\nexport const loadArticleTask = (http) => (mdl) => (slug) =>\r\n  http.getTask(mdl)(`articles/${slug}`)\r\n\r\nconst formatTags = over(lensProp(\"tagList\"), compose(uniq, split(\" \"), trim))\r\n\r\nexport const submitArticleTask = (http) => (mdl) => (article) =>\r\n  http.postTask(mdl)(\"articles\")({ article: formatTags(article) })\r\n\r\nconst Editor = ({ attrs: { mdl } }) => {\r\n  let data = {}\r\n  const state = {}\r\n\r\n  const initEditor = (mdl) => {\r\n    const onSuccess = ({ article }) => {\r\n      data = article\r\n      console.log(data)\r\n    }\r\n\r\n    const onError = (errors) => {\r\n      state.errors = errors\r\n    }\r\n\r\n    if (mdl.slug) {\r\n      loadArticleTask(Http)(mdl)(mdl.slug).fork(onError, onSuccess)\r\n    }\r\n  }\r\n\r\n  const submitData = (data) => {\r\n    const onSuccess = ({ article: { slug } }) => {\r\n      m.route.set(`/article/${slug}`)\r\n    }\r\n\r\n    const onError = (errors) => {\r\n      state.errors = errors\r\n    }\r\n    submitArticleTask(Http)(mdl)(data).fork(onError, onSuccess)\r\n  }\r\n\r\n  return {\r\n    oninit: ({ attrs: { mdl } }) => initEditor(mdl),\r\n    view: () =>\r\n      m(\r\n        \".editor-page\",\r\n        m(\r\n          \".container.page\",\r\n          m(\r\n            \".row\",\r\n            m(\r\n              \".col-md-10.offset-md-1.col-xs-12\",\r\n              m(\"form\", [\r\n                m(\r\n                  \"fieldset.form-group\",\r\n                  m(\"input.form-control.form-control-lg\", {\r\n                    type: \"text\",\r\n                    placeholder: \"Article Title\",\r\n                    onchange: (e) => (data.title = e.target.value),\r\n                    value: data.title,\r\n                  })\r\n                ),\r\n\r\n                m(\r\n                  \"fieldset.form-group\",\r\n                  m(\"input.form-control.form-control-lg\", {\r\n                    type: \"text\",\r\n                    placeholder: \"What's this article about?\",\r\n                    onchange: (e) => (data.description = e.target.value),\r\n                    value: data.description,\r\n                  })\r\n                ),\r\n\r\n                m(\r\n                  \"fieldset.form-group\",\r\n                  m(\"textarea.form-control.form-control-lg\", {\r\n                    rows: 8,\r\n                    placeholder: \"Write your article (in markdown)\",\r\n                    onchange: (e) => (data.body = e.target.value),\r\n                    value: data.body,\r\n                  })\r\n                ),\r\n\r\n                m(\r\n                  \"fieldset.form-group\",\r\n                  m(\"input.form-control.form-control-lg\", {\r\n                    type: \"text\",\r\n                    placeholder: \"Enter tags\",\r\n                    onchange: (e) => (data.tagList = e.target.value),\r\n                    value: data.tagList,\r\n                  })\r\n                ),\r\n\r\n                m(\r\n                  \"button.btn-lg.pull-xs-right.btn-primary\",\r\n                  { onclick: (e) => submitData(data) },\r\n                  \" Publish Article \"\r\n                ),\r\n              ])\r\n            )\r\n          )\r\n        )\r\n      ),\r\n  }\r\n}\r\nexport default Editor\r\n","import { isEmpty } from \"ramda\"\nimport Http from \"Http\"\nimport {\n  Banner,\n  Loader,\n  Paginator,\n  Articles,\n  FeedNav,\n  SideBar,\n} from \"components\"\n\nconst getTagsTask = (http) => (mdl) => http.getTask(mdl)(\"tags\")\nconst getArticlesTask = (http) => (mdl) => (state) => (data) =>\n  data.tags.current == \"feed\"\n    ? http.getTask(mdl)(`articles/feed?limit=20&offset=${state.offset}`)\n    : http.getTask(mdl)(\n        `articles?limit=20&offset=${state.offset}&tag=${data.tags.current}`\n      )\n\nconst loadDataTask = (http) => (mdl) => (state) => (data) =>\n  Task.of((tags) => (articles) => ({ ...tags, ...articles }))\n    .ap(getTagsTask(http)(mdl))\n    .ap(getArticlesTask(http)(mdl)(state)(data))\n\nconst Home = () => {\n  const data = {\n    tags: { tagList: [], selected: [], current: \"\" },\n    articles: {},\n  }\n  const state = {\n    feedStatus: \"loading\",\n    pageStatus: \"loading\",\n    limit: 20,\n    offset: 0,\n    total: 0,\n    error: null,\n  }\n\n  const loadInitData = (mdl) => {\n    const onSuccess = ({ articles, articlesCount, tags }) => {\n      data.articles = articles\n      state.total = articlesCount\n      data.tags.tagList = tags\n      state.pageStatus = \"success\"\n      state.feedStatus = \"success\"\n    }\n\n    const onError = (error) => {\n      console.log(\"error\", error)\n      state.error = error\n      state.pageStatus = \"error\"\n    }\n    state.pageStatus = \"loading\"\n    loadDataTask(Http)(mdl)(state)(data).fork(onError, onSuccess)\n  }\n\n  const loadArticles = (mdl) => {\n    const onSuccess = ({ articles, articlesCount }) => {\n      data.articles = articles\n      state.total = articlesCount\n      state.feedStatus = \"success\"\n    }\n\n    const onError = (error) => {\n      console.log(\"error\", error)\n      state.error = error\n      state.feedStatus = \"error\"\n    }\n\n    state.feedStatus = \"loading\"\n    getArticlesTask(Http)(mdl)(state)(data).fork(onError, onSuccess)\n  }\n\n  return {\n    oninit: ({ attrs: { mdl } }) => loadInitData(mdl),\n    view: ({ attrs: { mdl } }) => {\n      return m(\".home-page\", [\n        isEmpty(mdl.user) &&\n          m(Banner, [\n            m(\"h1.logo-font\", \"conduit\"),\n            m(\"p\", \"A place to share your knowledge.\"),\n          ]),\n\n        state.pageStatus == \"loading\" &&\n          m(Loader, [m(\"h1.logo-font\", `Loading Data`)]),\n\n        state.pageStatus == \"error\" &&\n          m(Banner, [m(\"h1.logo-font\", `Error Loading Data: ${state.error}`)]),\n\n        state.pageStatus == \"success\" &&\n          m(\n            \".container page\",\n            m(\".row\", [\n              m(\".col-md-9\", [\n                m(FeedNav, { fetchData: loadArticles, mdl, data }),\n\n                state.feedStatus == \"loading\" && m(\"p\", \"Loading Articles ...\"),\n\n                state.feedStatus == \"success\" && [\n                  m(Articles, { mdl, data }),\n\n                  m(Paginator, {\n                    mdl,\n                    state,\n                    fetchDataFor: (offset) => {\n                      state.offset = offset * state.limit\n                      loadArticles(mdl)\n                    },\n                  }),\n                ],\n              ]),\n\n              m(\".col-md-3\", m(SideBar, { mdl, data })),\n            ])\n          ),\n      ])\n    },\n  }\n}\n\nexport default Home\n","import Http from \"Http\"\r\n\r\nexport const loginTask = (http) => (mdl) => (user) =>\r\n  http.postTask(mdl)(\"users/login\")({ user })\r\n\r\nconst Login = () => {\r\n  const state = { errors: {} }\r\n  const data = {\r\n    email: \"\",\r\n    password: \"\",\r\n  }\r\n\r\n  const onSubmit = (mdl) => {\r\n    const onSuccess = ({ user }) => {\r\n      sessionStorage.setItem(\"token\", `Token ${user.token}`)\r\n      sessionStorage.setItem(\"user\", JSON.stringify(user))\r\n      mdl.user = user\r\n      m.route.set(\"/home\")\r\n    }\r\n\r\n    const onError = (errors) => {\r\n      state.errors = errors\r\n      console.log(state.errors)\r\n    }\r\n\r\n    loginTask(Http)(mdl)(data).fork(onError, onSuccess)\r\n  }\r\n\r\n  return {\r\n    view: ({ attrs: { mdl } }) =>\r\n      m(\r\n        \"div.auth-page\",\r\n        m(\r\n          \"div.container.page\",\r\n          m(\r\n            \"div.row\",\r\n            m(\"div.col-md-6.offset-md-3.col-xs-12\", [\r\n              m(\"h1.text-xs-center\", \"Login\"),\r\n              m(\r\n                \"p.text-xs-center\",\r\n                m(m.route.Link, { href: \"/register\" }, \"Need an account?\"),\r\n                state.errors[\"email or password\"] &&\r\n                  m(\r\n                    \".error-messages\",\r\n                    m(\r\n                      \"span\",\r\n                      `email or password  ${state.errors[\"email or password\"]}`\r\n                    )\r\n                  )\r\n              ),\r\n              m(\"form\", [\r\n                m(\r\n                  \"fieldset.form-group\",\r\n                  m(\"input.form-control.form-control-lg\", {\r\n                    type: \"text\",\r\n                    placeholder: \"email\",\r\n                    onchange: (e) => (data.email = e.target.value),\r\n                    value: data.email,\r\n                    onblur: (e) => state.isSubmitted && validate,\r\n                  }),\r\n                  state.errors.email &&\r\n                    m(\".error-messages\", m(\"span\", state.errors.email))\r\n                ),\r\n                m(\r\n                  \"fieldset.form-group\",\r\n                  m(\"input.form-control.form-control-lg\", {\r\n                    type: \"password\",\r\n                    placeholder: \"password\",\r\n                    onchange: (e) => (data.password = e.target.value),\r\n                    value: data.password,\r\n                    onblur: (e) => state.isSubmitted && validate,\r\n                  })\r\n                ),\r\n                m(\r\n                  \"button.btn.btn-lg.btn-primary.pull-xs-right\",\r\n                  { type: \"submit\", onclick: (e) => onSubmit(mdl) },\r\n                  \"Login\"\r\n                ),\r\n              ]),\r\n            ])\r\n          )\r\n        )\r\n      ),\r\n  }\r\n}\r\n\r\nexport default Login\r\n","import Http from \"Http\"\r\nimport { Banner, Loader, Articles } from \"components\"\r\n\r\nconst getProfileTask = (http) => (mdl) => (username) =>\r\n  http.getTask(mdl)(`profiles/${username}`)\r\n\r\nconst getAuthorArticlesTask = (http) => (mdl) => (state) => (username) =>\r\n  http.getTask(mdl)(\r\n    `articles?limit=20&offset=${state.offset}&author=${username}`\r\n  )\r\n\r\nconst getAuthorFavoriteArticlesTask = (http) => (mdl) => (state) => (\r\n  username\r\n) =>\r\n  http.getTask(mdl)(\r\n    `articles?limit=20&offset=${state.offset}&favorited=${username}`\r\n  )\r\n\r\nexport const loadDataTask = (http) => (mdl) => (state) =>\r\n  Task.of((profile) => (authorArticles) => (authorFavoriteArticles) => ({\r\n    ...profile,\r\n    authorArticles,\r\n    authorFavoriteArticles,\r\n  }))\r\n    .ap(getProfileTask(http)(mdl)(mdl.slug))\r\n    .ap(getAuthorArticlesTask(http)(mdl)(state)(mdl.slug))\r\n    .ap(getAuthorFavoriteArticlesTask(http)(mdl)(state)(mdl.slug))\r\n\r\nconst Profile = () => {\r\n  const data = {}\r\n  const state = {\r\n    status: \"loading\",\r\n    showFaveArticles: false,\r\n    limit: 20,\r\n    offset: 0,\r\n    total: 0,\r\n    error: null,\r\n  }\r\n\r\n  const onSuccess = ({ authorArticles, authorFavoriteArticles, profile }) => {\r\n    data.authorArticles = authorArticles\r\n    data.authorFavoriteArticles = authorFavoriteArticles\r\n    data.profile = profile\r\n    state.status = \"success\"\r\n  }\r\n\r\n  const onError = (error) => {\r\n    console.log(\"error\", error)\r\n    state.error = error\r\n    state.status = \"error\"\r\n  }\r\n\r\n  const loadData = (mdl) => {\r\n    state.status = \"loading\"\r\n    loadDataTask(Http)(mdl)(state).fork(onError, onSuccess)\r\n  }\r\n  return {\r\n    oninit: ({ attrs: { mdl } }) => loadData(mdl),\r\n    view: ({ attrs: { mdl } }) =>\r\n      m(\r\n        \".profile-page\",\r\n\r\n        state.status == \"loading\" &&\r\n          m(Loader, [m(\"h1.logo-font\", \"Loading ...\")]),\r\n        state.status == \"error\" &&\r\n          m(Banner, [m(\"h1.logo-font\", `Error Loading Data: ${state.error}`)]),\r\n        state.status == \"success\" && [\r\n          m(\r\n            \".user-info\",\r\n            m(\r\n              \".container\",\r\n              m(\r\n                \".row\",\r\n                m(\".col-xs-12.col-md-10.offset-md-1\", [\r\n                  m(\"img.user-img\", { src: data.profile.image }),\r\n                  m(\"h4\", data.profile.username),\r\n                  m(\"p\", data.profile.bio),\r\n                  data.profile.username !== mdl.user.username\r\n                    ? m(\"button.btn.btn-sm.btn-outline-secondary.action-btn\", [\r\n                        m(\"i.ion-plus-round\"),\r\n                        \" \",\r\n                        m.trust(\"&nbsp;\"),\r\n                        `Follow ${data.profile.username}`,\r\n                      ])\r\n                    : m(\r\n                        \"button.btn.btn-sm.btn-outline-secondary.action-btn\",\r\n                        {\r\n                          onclick: (e) =>\r\n                            m.route.set(`/settings/${data.profile.username}`),\r\n                        },\r\n                        [\r\n                          m(\"i.ion-gear-a\"),\r\n                          \" \",\r\n                          m.trust(\"&nbsp;\"),\r\n                          `Edit Profile Settings`,\r\n                        ]\r\n                      ),\r\n                ])\r\n              )\r\n            )\r\n          ),\r\n          m(\r\n            \".container\",\r\n            m(\r\n              \".row\",\r\n              m(\".col-xs-12.col-md-10.offset-md-1\", [\r\n                m(\r\n                  \".articles-toggle\",\r\n                  m(\"ul.nav.nav-pills.outline-active\", [\r\n                    m(\r\n                      \"li.nav-item\",\r\n                      m(\r\n                        `.nav-link ${!state.showFaveArticles && \"active\"}`,\r\n                        {\r\n                          onclick: (e) => (state.showFaveArticles = false),\r\n                        },\r\n                        \"My Articles\"\r\n                      )\r\n                    ),\r\n                    m(\r\n                      \"li.nav-item\",\r\n                      m(\r\n                        `.nav-link ${state.showFaveArticles && \"active\"}`,\r\n                        {\r\n                          onclick: (e) => (state.showFaveArticles = true),\r\n                        },\r\n                        \"Favorited Articles\"\r\n                      )\r\n                    ),\r\n                  ])\r\n                ),\r\n                state.showFaveArticles\r\n                  ? m(Articles, { mdl, data: data.authorFavoriteArticles })\r\n                  : m(Articles, { mdl, data: data.authorArticles }),\r\n              ])\r\n            )\r\n          ),\r\n        ]\r\n      ),\r\n  }\r\n}\r\n\r\nexport default Profile\r\n","import Http from \"Http\"\r\n\r\nconst registerTask = (http) => (mdl) => (user) =>\r\n  http.postTask(mdl)(\"users\")({ user })\r\n\r\nconst errorViewModel = (err) =>\r\n  Object.keys(err).map((k) => ({ key: k, values: err[k] }))\r\n\r\nconst Register = () => {\r\n  const state = { errors: [] }\r\n  const data = {\r\n    username: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n  }\r\n\r\n  const onSubmit = (mdl) => {\r\n    const onSuccess = ({ user }) => {\r\n      mdl.user = user\r\n      sessionStorage.setItem(\"token\", `Token ${user.token}`)\r\n      m.route.set(\"/home\")\r\n      console.log(\"success\", user)\r\n    }\r\n\r\n    const onError = (errors) => {\r\n      state.errors = errorViewModel(errors)\r\n      console.log(errors)\r\n    }\r\n\r\n    state.isSubmitted = true\r\n    registerTask(Http)(mdl)(data).fork(onError, onSuccess)\r\n  }\r\n\r\n  return {\r\n    view: ({ attrs: { mdl } }) =>\r\n      m(\r\n        \".auth-page\",\r\n        m(\r\n          \".container.page\",\r\n          m(\r\n            \".row\",\r\n            m(\".col-md-6.offset-md-3.col-xs-12\", [\r\n              m(\"h1.text-xs-center\", \"Sign Up\"),\r\n              m(\r\n                \"p.text-xs-center\",\r\n                m(m.route.Link, { href: \"/login\" }, \"Have an account?\")\r\n              ),\r\n\r\n              state.errors &&\r\n                state.errors.map((e) =>\r\n                  m(\r\n                    \".error-messages\",\r\n                    m(\r\n                      \"ul\",\r\n                      `${e.key}`,\r\n                      e.values.map((error) => m(\"li\", error))\r\n                    )\r\n                  )\r\n                ),\r\n\r\n              m(\"form\", [\r\n                m(\r\n                  \"fieldset.form-group\",\r\n                  m(\"input.form-control.form-control-lg\", {\r\n                    type: \"text\",\r\n                    placeholder: \"Your Name\",\r\n                    onchange: (e) => (data.username = e.target.value),\r\n                    value: data.username,\r\n                  })\r\n                ),\r\n\r\n                m(\r\n                  \"fieldset.form-group\",\r\n                  m(\"input.form-control.form-control-lg\", {\r\n                    type: \"text\",\r\n                    placeholder: \"email\",\r\n                    onchange: (e) => (data.email = e.target.value),\r\n                    value: data.email,\r\n                  })\r\n                ),\r\n                m(\r\n                  \"fieldset.form-group\",\r\n                  m(\"input.form-control.form-control-lg\", {\r\n                    type: \"password\",\r\n                    placeholder: \"password\",\r\n                    onchange: (e) => (data.password = e.target.value),\r\n                    value: data.password,\r\n                  })\r\n                ),\r\n                m(\r\n                  \"button.btn.btn-lg.btn-primary.pull-xs-right\",\r\n                  { type: \"submit\", onclick: (e) => onSubmit(mdl) },\r\n                  \"Sign Up\"\r\n                ),\r\n              ]),\r\n            ])\r\n          )\r\n        )\r\n      ),\r\n  }\r\n}\r\n\r\nexport default Register\r\n","export const loadTask = () => {}\r\n\r\nconst Settings = ({ attrs: { mdl } }) => {\r\n  let data = JSON.parse(JSON.stringify(mdl.user))\r\n  return {\r\n    view: ({ attrs: { mdl } }) =>\r\n      m(\r\n        \".settings-page\",\r\n        m(\r\n          \".container.page\",\r\n          m(\r\n            \".row\",\r\n            m(\".col-md-6.offset-md-3.col-xs-12\", [\r\n              m(\"h1.text-xs-center\", \"Your Settings\"),\r\n              m(\r\n                \"form\",\r\n                m(\"fieldset\", [\r\n                  m(\r\n                    \"fieldset.form-group\",\r\n                    m(\"input.form-control.form-control-lg\", {\r\n                      type: \"text\",\r\n                      placeholder: \"URL of profile picture\",\r\n                      onchange: (e) => (data.image = e.target.value),\r\n                      value: data.image,\r\n                    })\r\n                  ),\r\n                  m(\r\n                    \"fieldset.form-group\",\r\n                    m(\"input.form-control.form-control-lg\", {\r\n                      type: \"text\",\r\n                      placeholder: \"Your Name\",\r\n                      onchange: (e) => (data.username = e.target.value),\r\n                      value: data.username,\r\n                    })\r\n                  ),\r\n                  m(\r\n                    \"fieldset.form-group\",\r\n                    m(\"input.form-control.form-control-lg\", {\r\n                      type: \"text\",\r\n                      placeholder: \"Short bio about you\",\r\n                      onchange: (e) => (data.bio = e.target.value),\r\n                      value: data.bio,\r\n                    })\r\n                  ),\r\n                  m(\r\n                    \"fieldset.form-group\",\r\n                    m(\r\n                      \"fieldset.form-group\",\r\n                      m(\"input.form-control.form-control-lg\", {\r\n                        type: \"text\",\r\n                        placeholder: \"Email\",\r\n                        onchange: (e) => (data.email = e.target.value),\r\n                        value: data.email,\r\n                      })\r\n                    )\r\n                  ),\r\n                  m(\r\n                    \"fieldset.form-group\",\r\n                    m(\r\n                      \"fieldset.form-group\",\r\n                      m(\"input.form-control.form-control-lg\", {\r\n                        type: \"password\",\r\n                        placeholder: \"Password\",\r\n                        onchange: (e) => (data.password = e.target.value),\r\n                        value: data.password,\r\n                      })\r\n                    )\r\n                  ),\r\n                  m(\r\n                    \"button.btn.btn-lg.btn-primary.pull-xs-right\",\r\n                    \" Update Settings \"\r\n                  ),\r\n                ])\r\n              ),\r\n            ])\r\n          )\r\n        )\r\n      ),\r\n  }\r\n}\r\n\r\nexport default Settings\r\n","import Layout from \"./layout/index\"\nimport Home from \"./pages/home\"\nimport Article from \"./pages/article\"\nimport Profile from \"./pages/profile\"\nimport Register from \"./pages/register\"\nimport Login from \"./pages/login\"\nimport Settings from \"./pages/settings\"\nimport Editor from \"./pages/editor\"\n\nconst routes = (mdl) => {\n  return {\n    \"/home\": {\n      onmatch: ({ slug }) => {\n        mdl.slug = slug\n      },\n      render: () => m(Layout, { mdl }, m(Home, { mdl })),\n    },\n\n    \"/editor\": {\n      onmatch: ({ slug }) => {\n        mdl.slug = slug\n      },\n      render: () => m(Layout, { mdl }, m(Editor, { mdl })),\n    },\n\n    \"/editor/:slug\": {\n      onmatch: ({ slug }) => {\n        mdl.slug = slug\n      },\n      render: () => m(Layout, { mdl }, m(Editor, { mdl })),\n    },\n\n    \"/article/:slug\": {\n      onmatch: ({ slug }) => {\n        mdl.slug = slug\n      },\n      render: () => m(Layout, { mdl }, m(Article, { mdl })),\n    },\n\n    \"/profile/:slug\": {\n      onmatch: ({ slug }) => {\n        mdl.slug = slug\n      },\n      render: () => m(Layout, { mdl }, m(Profile, { mdl, key: mdl.slug })),\n    },\n\n    \"/settings/:slug\": {\n      onmatch: ({ slug }) => {\n        mdl.slug = slug\n      },\n      render: () => m(Layout, { mdl }, m(Settings, { mdl, key: mdl.slug })),\n    },\n\n    \"/login\": {\n      onmatch: ({ slug }) => {\n        mdl.slug = slug\n      },\n      render: () => m(Layout, { mdl }, m(Login, { mdl })),\n    },\n\n    \"/register\": {\n      onmatch: ({ slug }) => {\n        mdl.slug = slug\n      },\n      render: () => m(Layout, { mdl }, m(Register, { mdl })),\n    },\n  }\n}\n\nexport default routes\n"]}