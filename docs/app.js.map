{"version":3,"sources":["app/Http.js","app/Validations.js","app/components/article-preview.js","app/components/banner.js","app/components/index.js","app/components/loader.js","app/components/paginator.js","app/index.js","app/initialize.js","app/layout/footer.js","app/layout/header.js","app/layout/index.js","app/model.js","app/pages/article/index.js","app/pages/article/model.js","app/pages/auth/login.js","app/pages/auth/model.js","app/pages/auth/model.validate.js","app/pages/auth/register.js","app/pages/home/feednav.js","app/pages/home/index.js","app/pages/home/model.js","app/pages/home/sidebar.js","app/pages/profile/index.js","app/pages/profile/model.js","app/routes.js"],"names":["api","onProgress","mdl","e","lengthComputable","state","loadingProgress","max","total","value","loaded","m","redraw","onLoad","onLoadStart","isLoading","onLoadEnd","xhrProgress","config","xhr","onprogress","onload","onloadstart","onloadend","parseHttpError","rej","response","errors","parseHttpSuccess","res","data","getUserToken","sessionStorage","getItem","authorization","call","_headers","method","url","body","Task","request","headers","withCredentials","then","Http","getTask","postTask","getOrElse","val","x","validate","rule","lens","msg","isRequired","not","isEmpty","IsNotNil","isNil","isNotNullOrEmpty","isNullOrEmpty","maxLength","length","maxSize","emailFormat","onlyAlpha","onlyAlphaNumeric","onlyAlphaNumericUnderscore","onlyAlphaNumericSpace","onlyAlphaNumericSpaceUnderscore","onlyAlphaNumericSpaceSpecial","phoneFormat","urlFormat","onlyNumeric","maxLengthNullable","Maybe","fromNullable","unique","keys","lookup","toString","y","inDateRange","start","end","Date","allCaps","str","toUpperCase","isNilOrEmptyOrAtom","item","ArticlePreview","view","attrs","article","author","image","username","createdAt","favoritesCount","title","description","tagList","slug","route","Link","href","options","replace","src","map","tag","Banner","children","Loader","Paginator","fetchDataFor","limit","current","offset","range","Array","slice","page","onclick","FunConfig","configure","root","document","winW","window","innerWidth","module","hot","accept","process","env","NODE_ENV","console","log","navigator","addEventListener","serviceWorker","register","registration","registrationError","getProfile","w","checkWidth","lastProfile","model","settings","profile","requestAnimationFrame","require","footer","trust","Header","Layout","Footer","FollowComponent","CommentForm","Comment","comment","id","ArticleComments","comments","c","Article","status","error","onSuccess","onError","loadData","fork","oninit","getCommentsTask","http","getArticleTask","loadDataTask","of","ap","Login","isSubmitted","isValid","email","password","s","onSubmit","user","setItem","token","set","chain","type","placeholder","onchange","target","onblur","loginTask","registerTask","ValidateRegistration","identity","ValidateLogin","nameLense","passwordLense","emailLense","NAME_REQUIRED_MSG","PASSWORD_REQUIRED_MSG","EMAIL_REQUIRED_MSG","INVALID_EMAIL_FORMAT","validateName","apLeft","validateEmail","validatePassword","validateRegisterTask","failureMap","mergeAll","toTask","validateLoginTask","Register","FeedNav","fetchData","tags","selected","Home","articles","loadInitData","articlesCount","loadArticles","SideBar","getTagsTask","getArticlesTask","selectTag","push","Profile","showFaveArticles","authorArticles","authorFavoriteArticles","bio","v","getProfileTask","getAuthorArticlesTask","getAuthorFavoriteArticlesTask","routes","onmatch","render","key"],"mappings":"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","file":"docs/app.js","sourcesContent":["const api = \"https://conduit.productionready.io/api/\"\r\n\r\nconst onProgress = (mdl) => (e) => {\r\n  if (e.lengthComputable) {\r\n    mdl.state.loadingProgress.max = e.total\r\n    mdl.state.loadingProgress.value = e.loaded\r\n    m.redraw()\r\n  }\r\n}\r\n\r\nfunction onLoad() {\r\n  return false\r\n}\r\n\r\nconst onLoadStart = (mdl) => (e) => {\r\n  mdl.state.isLoading = true\r\n  return false\r\n}\r\n\r\nconst onLoadEnd = (mdl) => (e) => {\r\n  mdl.state.isLoading = false\r\n  mdl.state.loadingProgress.max = 0\r\n  mdl.state.loadingProgress.value = 0\r\n  return false\r\n}\r\n\r\nconst xhrProgress = (mdl) => ({\r\n  config: (xhr) => {\r\n    xhr.onprogress = onProgress(mdl)\r\n    xhr.onload = onLoad\r\n    xhr.onloadstart = onLoadStart(mdl)\r\n    xhr.onloadend = onLoadEnd(mdl)\r\n  },\r\n})\r\n\r\nexport const parseHttpError = (mdl) => (rej) => (e) => {\r\n  mdl.state.isLoading = false\r\n  return rej(e.response.errors)\r\n}\r\n\r\nexport const parseHttpSuccess = (mdl) => (res) => (data) => {\r\n  mdl.state.isLoading = false\r\n  return res(data)\r\n}\r\n\r\nconst getUserToken = () =>\r\n  sessionStorage.getItem(\"token\")\r\n    ? { authorization: sessionStorage.getItem(\"token\") }\r\n    : \"\"\r\n\r\nconst call = (_headers) => (method) => (mdl) => (url) => (body) => {\r\n  mdl.state.isLoading = true\r\n  return new Task((rej, res) =>\r\n    m\r\n      .request({\r\n        method,\r\n        url: api + url,\r\n        headers: {\r\n          \"content-type\": \"application/json\",\r\n          ..._headers,\r\n        },\r\n        body,\r\n        withCredentials: false,\r\n        ...xhrProgress(mdl),\r\n      })\r\n      .then(parseHttpSuccess(mdl)(res), parseHttpError(mdl)(rej))\r\n  )\r\n}\r\n\r\nconst Http = {\r\n  getTask: (mdl) => (url) => call(getUserToken())(\"GET\")(mdl)(url)(null),\r\n  postTask: (mdl) => (url) => (data) =>\r\n    call(getUserToken())(\"POST\")(mdl)(url)(data),\r\n}\r\n\r\nexport default Http\r\n","import {\r\n  compose,\r\n  curry,\r\n  isEmpty,\r\n  isNil,\r\n  length,\r\n  gte,\r\n  test,\r\n  not,\r\n  view,\r\n  set,\r\n  contains,\r\n  map,\r\n  toUpper,\r\n} from \"ramda\"\r\nimport { Success, Failure } from \"data.validation\"\r\nimport Maybe from \"data.maybe\"\r\n\r\nexport const getOrElse = (val) => (x) => x.getOrElse(val)\r\n\r\nexport const validate = curry((rule, lens, msg, data) =>\r\n  rule(view(lens, data)) ? Success(data) : Failure([set(lens, msg, {})])\r\n)\r\n\r\nexport const isRequired = compose(not, isEmpty)\r\n\r\nexport const IsNotNil = compose(not, isNil)\r\n\r\nexport const isNotNullOrEmpty = (data) => !isNullOrEmpty(data)\r\n\r\nexport const isNullOrEmpty = (data) => isNil(data) || isEmpty(data)\r\n\r\nexport const maxLength = (max) => compose(gte(max), length)\r\n\r\nexport const maxSize = curry((max, value) => gte(max, value))\r\n\r\nexport const emailFormat = test(/@/)\r\n\r\nexport const onlyAlpha = test(/^[a-zA-Z]*$/)\r\n\r\nexport const onlyAlphaNumeric = test(/^[a-zA-Z0-9]*$/)\r\n\r\nexport const onlyAlphaNumericUnderscore = test(/^[a-zA-Z0-9_]*$/)\r\n\r\nexport const onlyAlphaNumericSpace = test(/^[a-zA-Z0-9\\s]*$/)\r\n\r\nexport const onlyAlphaNumericSpaceUnderscore = test(/^[a-zA-Z0-9_\\s]*$/)\r\n\r\nexport const onlyAlphaNumericSpaceSpecial = test(\r\n  /^[a-zA-Z0-9_.~!*''();:@&=+$,/?#[%-\\]+\\s]*$/\r\n)\r\n\r\nexport const phoneFormat = test(/^[0-9]{3}-[0-9]{3}-[0-9]{4}$/)\r\n\r\nexport const urlFormat = test(/^[a-zA-Z0-9_.~!*''();:@&=+$,/?#[%-\\]+]*$/)\r\n\r\nexport const onlyNumeric = test(/^[0-9]*$/)\r\n\r\nexport const maxLengthNullable = (max) =>\r\n  compose(getOrElse(false), map(gte(max)), map(length), Maybe.fromNullable)\r\n\r\nexport const unique = curry((keys, value) => {\r\n  let lookup = Maybe.fromNullable(keys)\r\n  return !contains(\r\n    toUpper(value.toString()),\r\n    map((y) => toUpper(y.toString()), lookup.getOrElse([]))\r\n  )\r\n})\r\n\r\nexport const inDateRange = curry((start, end, value) => {\r\n  if (value == null || value === \"\") {\r\n    return true\r\n  }\r\n\r\n  return new Date(start) <= new Date(value) && new Date(value) < new Date(end)\r\n})\r\n\r\nexport const allCaps = (str) => str.toUpperCase() === str\r\n\r\nexport const isNilOrEmptyOrAtom = (item) =>\r\n  isNil(item) || isEmpty(item) || item === \"{$type:atom}\"\r\n","export const ArticlePreview = () => {\r\n  return {\r\n    view: ({\r\n      attrs: {\r\n        article: {\r\n          author: { image, username },\r\n          createdAt,\r\n          favoritesCount,\r\n          title,\r\n          description,\r\n          tagList,\r\n          slug,\r\n        },\r\n      },\r\n    }) => {\r\n      return m(\".article-preview\", [\r\n        m(\".article-meta\", [\r\n          m(\r\n            m.route.Link,\r\n            { href: `/profile/${username}`, options: { replace: true } },\r\n            m(\"img\", { src: image })\r\n          ),\r\n\r\n          m(\".info\", [\r\n            m(\r\n              m.route.Link,\r\n              {\r\n                class: \"author\",\r\n                href: `/profile/${username}`,\r\n                options: { replace: true },\r\n              },\r\n              username\r\n            ),\r\n            m(\"span.date\", createdAt),\r\n          ]),\r\n          m(\r\n            \"button.btn btn-outline-primary btn-sm pull-xs-right\",\r\n\r\n            [m(\"i.ion-heart\"), m(\"span\", favoritesCount)]\r\n          ),\r\n        ]),\r\n        m(m.route.Link, { class: \"preview-link\", href: `/article/${slug}` }, [\r\n          m(\"h1\", title),\r\n          m(\"p\", description),\r\n          m(\r\n            \"ul.tag-list\",\r\n            tagList.map((tag) => m(\"li.tag-default tag-pill tag-outline\", tag))\r\n          ),\r\n          m(\"span\", \"Read more...\"),\r\n        ]),\r\n      ])\r\n    },\r\n  }\r\n}\r\n","export const Banner = () => {\r\n  return {\r\n    view: ({ children }) => m(\".banner\", m(\".container\", children)),\r\n  }\r\n}\r\n","export * from \"./banner\"\r\nexport * from \"./loader\"\r\nexport * from \"./paginator\"\r\nexport * from \"./article-preview\"\r\n","export const Loader = () => {\r\n  return {\r\n    view: ({ children }) =>\r\n      m(\".container\", m(\".banner\", m(\".container\", children))),\r\n  }\r\n}\r\n","export const Paginator = () => {\r\n  return {\r\n    view: ({ attrs: { mdl, state, fetchDataFor } }) => {\r\n      let total = state.total / state.limit\r\n      let current = state.offset / state.limit\r\n      let range = [...Array(total).keys()].slice(1)\r\n      return m(\r\n        \"ul.pagination\",\r\n        range.map((page) => {\r\n          return m(\r\n            `li.page-item ${page == current && \"active\"}`,\r\n            m(\".page-link active\", { onclick: (e) => fetchDataFor(page) }, page)\r\n          )\r\n        })\r\n      )\r\n    },\r\n  }\r\n}\r\n","import routes from \"./routes.js\"\nimport model from \"./model.js\"\nimport { FunConfig } from \"@boazblake/fun-config\"\n\nFunConfig.configure()\n\nconst root = document.body\nlet winW = window.innerWidth\n\nif (module.hot) {\n  module.hot.accept()\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  console.log(\"Looks like we are in development mode!\")\n} else {\n  if (\"serviceWorker\" in navigator) {\n    window.addEventListener(\"load\", () => {\n      navigator.serviceWorker\n        .register(\"./service-worker.js\")\n        .then((registration) => {\n          console.log(\"⚙️ SW registered: \", registration)\n        })\n        .catch((registrationError) => {\n          console.log(\"🧟 SW registration failed: \", registrationError)\n        })\n    })\n  }\n}\n\n// set display profiles\nconst getProfile = (w) => {\n  if (w < 668) return \"phone\"\n  if (w < 920) return \"tablet\"\n  return \"desktop\"\n}\n\nconst checkWidth = (winW) => {\n  const w = window.innerWidth\n  if (winW !== w) {\n    winW = w\n    var lastProfile = model.settings.profile\n    model.settings.profile = getProfile(w)\n    if (lastProfile != model.settings.profile) m.redraw()\n  }\n  return requestAnimationFrame(checkWidth)\n}\n\nmodel.settings.profile = getProfile(winW)\n\ncheckWidth(winW)\n\nm.route(root, \"/home\", routes(model))\n","document.addEventListener(\"DOMContentLoaded\", () => {\n  require(\"./index.js\")\n})\n","const footer = () => {\r\n  return {\r\n    view: () =>\r\n      m(\r\n        \"footer\",\r\n        m(\"div\", { class: \"container\" }, [\r\n          m(\"a\", { class: \"logo-font\", href: \"/\" }, \"conduit\"),\r\n          m(\"span\", { class: \"attribution\" }, [\r\n            \" An interactive learning project from \",\r\n            m(\"a\", { href: \"https://thinkster.io\" }, \"Thinkster\"),\r\n            \". Code \",\r\n            m.trust(\"&amp;\"),\r\n            \" design licensed under MIT. \",\r\n          ]),\r\n        ])\r\n      ),\r\n  }\r\n}\r\n\r\nexport default footer\r\n","const Header = () => {\r\n  return {\r\n    view: ({ attrs: { mdl } }) =>\r\n      m(\r\n        \"nav.navbar navbar-light\",\r\n        m(\r\n          \".container\",\r\n          m(\"a.navbar-brand\", { href: \"#\" }, \"conduit\"),\r\n          m(\"ul.nav navbar-nav pull-xs-right\", [\r\n            // m(\"li.nav-item\", m(\"a.nav-link\", \"New Post \")),\r\n            // m(\"li.nav-item\", m(\"a.nav-link\", \"Settings \")),\r\n            m(\r\n              \"li.nav-item\",\r\n              m(\r\n                m.route.Link,\r\n                { class: \"nav-link\", href: \"/register\" },\r\n                \"Sign up\"\r\n              )\r\n            ),\r\n            m(\r\n              \"li.nav-item\",\r\n              m(m.route.Link, { class: \"nav-link\", href: \"/login\" }, \"Login\")\r\n            ),\r\n          ])\r\n        )\r\n      ),\r\n  }\r\n}\r\n\r\nexport default Header\r\n","import Header from \"./header.js\"\r\nimport Footer from \"./footer.js\"\r\n\r\nconst Layout = () => {\r\n  return {\r\n    view: ({ children, attrs: { mdl } }) =>\r\n      m(\"\", [m(Header, { mdl }), children, m(Footer, { mdl })]),\r\n  }\r\n}\r\n\r\nexport default Layout\r\n","const model = {\n  state: { isLoading: false, loadingProgress: { max: 0, value: 0 } },\n  settings: {},\n  page: \"\",\n}\n\nexport default model\n","import Http from \"Http\"\r\nimport { loadDataTask } from \"./model\"\r\nimport { Banner } from \"components\"\r\n\r\nconst FollowComponent = () => {\r\n  return {\r\n    view: ({\r\n      attrs: {\r\n        mdl,\r\n        data: { username, image, createdAt },\r\n      },\r\n    }) => {\r\n      return m(\"div.article-meta\", [\r\n        m(\r\n          m.route.Link,\r\n          { href: `profile/${username}` },\r\n          m(\"img\", { src: image })\r\n        ),\r\n        m(\"div.info\", [\r\n          m(\r\n            m.route.Link,\r\n            { class: \"author\", href: `profile/${username}` },\r\n            username\r\n          ),\r\n          m(\"span.date\", createdAt),\r\n        ]),\r\n        m(\"button.btn.btn-sm.btn-outline-secondary\", [\r\n          m(\"i.ion-plus-round\"),\r\n          \" \",\r\n          m.trust(\"&nbsp;\"),\r\n          ` Follow ${username} `,\r\n          m(\"span.counter\", \"(10)\"),\r\n        ]),\r\n        \" \",\r\n        m.trust(\"&nbsp;\"),\r\n        m.trust(\"&nbsp;\"),\r\n        \" \",\r\n        m(\"button.btn.btn-sm.btn-outline-primary\", [\r\n          m(\"i.ion-heart\"),\r\n          \" \",\r\n          m.trust(\"&nbsp;\"),\r\n          \" Favorite Post \",\r\n          m(\"span.counter\", \"(29)\"),\r\n        ]),\r\n      ])\r\n    },\r\n  }\r\n}\r\n\r\nconst CommentForm = () => {\r\n  return {\r\n    view: ({ attrs: { mdl } }) =>\r\n      m(\"form.card.comment-form\", [\r\n        m(\r\n          \"div.card-block\",\r\n          m(\"textarea.form-control[placeholder='Write a comment...'][rows='3']\")\r\n        ),\r\n        m(\"div.card-footer\", [\r\n          m(\"img.comment-author-img[src='http://i.imgur.com/Qr71crq.jpg']\"),\r\n          m(\"button.btn.btn-sm.btn-primary\", \" Post Comment \"),\r\n        ]),\r\n      ]),\r\n  }\r\n}\r\n\r\nconst Comment = () => {\r\n  return {\r\n    view: ({\r\n      attrs: {\r\n        mdl,\r\n        comment: {\r\n          author: { image, username },\r\n          body,\r\n          createdAt,\r\n          id,\r\n        },\r\n      },\r\n    }) =>\r\n      m(\"div.card\", [\r\n        m(\"div.card-block\", m(\"p.card-text\", body)),\r\n        m(\"div.card-footer\", [\r\n          m(\r\n            m.route.Link,\r\n            { class: \"comment-author\" },\r\n            m(\"img.comment-author-img\", { src: image })\r\n          ),\r\n          \" \",\r\n          m.trust(\"&nbsp;\"),\r\n          \" \",\r\n          m(m.route.Link, { class: \"comment-author\" }, username),\r\n          m(\"span.date-posted\", createdAt),\r\n        ]),\r\n      ]),\r\n  }\r\n}\r\n\r\nconst ArticleComments = () => {\r\n  return {\r\n    view: ({ attrs: { mdl, comments } }) => {\r\n      return [\r\n        m(CommentForm, { mdl }),\r\n        comments.map((c) => m(Comment, { mdl, comment: c })),\r\n      ]\r\n    },\r\n  }\r\n}\r\n\r\nconst Article = () => {\r\n  const data = {}\r\n  const state = {\r\n    status: \"loading\",\r\n    error: null,\r\n  }\r\n\r\n  const onSuccess = ({ article, comments }) => {\r\n    data.article = article\r\n    data.comments = comments\r\n    console.log(\"data\", data)\r\n    state.status = \"success\"\r\n  }\r\n\r\n  const onError = (error) => {\r\n    console.log(\"error\", error)\r\n    state.error = error\r\n    state.status = \"error\"\r\n  }\r\n\r\n  const loadData = (mdl) => {\r\n    state.status = \"loading\"\r\n    loadDataTask(Http)(mdl)(mdl.slug).fork(onError, onSuccess)\r\n  }\r\n\r\n  return {\r\n    oninit: ({ attrs: { mdl } }) => loadData(mdl),\r\n    view: ({ attrs: { mdl } }) =>\r\n      m(\"div.article-page\", [\r\n        state.status == \"loading\" &&\r\n          m(Banner, [m(\"h1.logo-font\", \"Loading ...\")]),\r\n        state.status == \"error\" &&\r\n          m(Banner, [m(\"h1.logo-font\", `Error Loading Data: ${state.error}`)]),\r\n        state.status == \"success\" && [\r\n          m(\r\n            \"div.banner\",\r\n            m(\"div.container\", [\r\n              m(\"h1\", data.article.title),\r\n              m(FollowComponent, { mdl, data: data.article.author }),\r\n            ])\r\n          ),\r\n          m(\"div.container.page\", [\r\n            m(\"div.row.article-content\", m(\"div.col-md-12\", data.article.body)),\r\n            m(\"hr\"),\r\n            m(\r\n              \"div.article-actions\",\r\n              m(FollowComponent, { mdl, data: data.article.author })\r\n            ),\r\n            m(\r\n              \"div.row\",\r\n              m(\r\n                \"div.col-xs-12.col-md-8.offset-md-2\",\r\n                m(ArticleComments, { mdl, comments: data.comments })\r\n              )\r\n            ),\r\n          ]),\r\n        ],\r\n      ]),\r\n  }\r\n}\r\n\r\nexport default Article\r\n","const getCommentsTask = (http) => (mdl) => (slug) =>\r\n  http.getTask(mdl)(`articles/${slug}/comments`)\r\nconst getArticleTask = (http) => (mdl) => (slug) =>\r\n  http.getTask(mdl)(`articles/${slug}`)\r\n\r\nexport const loadDataTask = (http) => (mdl) => (slug) =>\r\n  Task.of((article) => (comments) => ({ ...article, ...comments }))\r\n    .ap(getArticleTask(http)(mdl)(slug))\r\n    .ap(getCommentsTask(http)(mdl)(slug))\r\n","import Http from \"Http\"\r\nimport { validateLoginTask, loginTask } from \"./model\"\r\n\r\nconst Login = () => {\r\n  const state = { errors: {}, isSubmitted: false, isValid: false }\r\n  const data = {\r\n    email: \"\",\r\n    password: \"\",\r\n  }\r\n\r\n  const validate = (e) => {\r\n    const onSuccess = (s) => {\r\n      state.isValid = true\r\n    }\r\n\r\n    const onError = (errors) => {\r\n      state.isValid = false\r\n      state.errors = errors\r\n    }\r\n\r\n    validateLoginTask(data).fork(onError, onSuccess)\r\n  }\r\n\r\n  const onSubmit = (mdl) => {\r\n    const onSuccess = ({ user }) => {\r\n      state.isValid = true\r\n      sessionStorage.setItem(\"token\", `Token ${user.token}`)\r\n      mdl.user = user\r\n      m.route.set(\"/home\")\r\n    }\r\n\r\n    const onError = (errors) => {\r\n      state.isValid = false\r\n      state.errors = errors\r\n      console.log(state.errors)\r\n    }\r\n\r\n    state.isSubmitted = true\r\n    validateLoginTask(data).chain(loginTask(Http)(mdl)).fork(onError, onSuccess)\r\n  }\r\n\r\n  return {\r\n    view: ({ attrs: { mdl } }) =>\r\n      m(\r\n        \"div.auth-page\",\r\n        m(\r\n          \"div.container.page\",\r\n          m(\r\n            \"div.row\",\r\n            m(\"div.col-md-6.offset-md-3.col-xs-12\", [\r\n              m(\"h1.text-xs-center\", \"Login\"),\r\n              m(\r\n                \"p.text-xs-center\",\r\n                m(m.route.Link, { href: \"/register\" }, \"Need an account?\"),\r\n                state.errors[\"email or password\"] &&\r\n                  m(\r\n                    \".error-messages\",\r\n                    m(\r\n                      \"span\",\r\n                      `email or password  ${state.errors[\"email or password\"]}`\r\n                    )\r\n                  )\r\n              ),\r\n              m(\"form\", [\r\n                m(\r\n                  \"fieldset.form-group\",\r\n                  m(\"input.form-control.form-control-lg\", {\r\n                    type: \"text\",\r\n                    placeholder: \"email\",\r\n                    onchange: (e) => (data.email = e.target.value),\r\n                    value: data.email,\r\n                    onblur: (e) => state.isSubmitted && validate,\r\n                  }),\r\n                  state.errors.email &&\r\n                    m(\".error-messages\", m(\"span\", state.errors.email))\r\n                ),\r\n                m(\r\n                  \"fieldset.form-group\",\r\n                  m(\"input.form-control.form-control-lg\", {\r\n                    type: \"password\",\r\n                    placeholder: \"password\",\r\n                    onchange: (e) => (data.password = e.target.value),\r\n                    value: data.password,\r\n                    onblur: (e) => state.isSubmitted && validate,\r\n                  }),\r\n                  state.errors.password &&\r\n                    m(\".error-messages\", m(\"span\", state.errors.password))\r\n                ),\r\n                m(\r\n                  \"button.btn.btn-lg.btn-primary.pull-xs-right\",\r\n                  { type: \"submit\", onclick: (e) => onSubmit(mdl) },\r\n                  \"Login\"\r\n                ),\r\n              ]),\r\n            ])\r\n          )\r\n        )\r\n      ),\r\n  }\r\n}\r\n\r\nexport default Login\r\n","export * from \"./model.validate\"\r\n\r\nexport const loginTask = (http) => (mdl) => (user) =>\r\n  http.postTask(mdl)(\"users/login\")({ user })\r\n\r\nexport const registerTask = (http) => (mdl) => (user) =>\r\n  http.postTask(mdl)(\"users\")({ user })\r\n","import { curryN, identity, lensProp, mergeAll } from \"ramda\"\r\nimport { Success } from \"data.validation\"\r\nimport { validate, isRequired, emailFormat } from \"Validations\"\r\nconst ValidateRegistration = Success(curryN(3, identity))\r\nconst ValidateLogin = Success(curryN(2, identity))\r\n\r\nconst nameLense = lensProp(\"name\")\r\nconst passwordLense = lensProp(\"password\")\r\nconst emailLense = lensProp(\"email\")\r\n\r\nconst NAME_REQUIRED_MSG = \"A Name is required\"\r\nconst PASSWORD_REQUIRED_MSG = \"A Password is required\"\r\nconst EMAIL_REQUIRED_MSG = \"An Email is required\"\r\nconst INVALID_EMAIL_FORMAT = \"Email must be a valid format\"\r\n\r\nconst validateName = (data) =>\r\n  Success(data).apLeft(validate(isRequired, nameLense, NAME_REQUIRED_MSG, data))\r\n\r\nconst validateEmail = (data) =>\r\n  Success(data)\r\n    .apLeft(validate(isRequired, emailLense, EMAIL_REQUIRED_MSG, data))\r\n    .apLeft(validate(emailFormat, emailLense, INVALID_EMAIL_FORMAT, data))\r\n\r\nconst validatePassword = (data) =>\r\n  Success(data).apLeft(\r\n    validate(isRequired, passwordLense, PASSWORD_REQUIRED_MSG, data)\r\n  )\r\n\r\nexport const validateRegisterTask = (data) =>\r\n  ValidateRegistration.ap(validateName(data))\r\n    .ap(validateEmail(data))\r\n    .ap(validatePassword(data))\r\n    .failureMap(mergeAll)\r\n    .toTask()\r\n\r\nexport const validateLoginTask = (data) =>\r\n  ValidateLogin.ap(validateEmail(data))\r\n    .ap(validatePassword(data))\r\n    .failureMap(mergeAll)\r\n    .toTask()\r\n","import Http from \"Http\"\r\nimport { validateRegisterTask, registerTask } from \"./model\"\r\n\r\nconst Register = () => {\r\n  const state = { errors: {}, isSubmitted: false, isValid: false }\r\n  const data = {\r\n    username: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n  }\r\n\r\n  const validate = (e) => {\r\n    const onSuccess = (s) => {\r\n      state.isValid = true\r\n    }\r\n\r\n    const onError = (errors) => {\r\n      state.isValid = false\r\n      state.errors = errors\r\n    }\r\n\r\n    validateRegisterTask(data).fork(onError, onSuccess)\r\n  }\r\n\r\n  const onSubmit = (mdl) => {\r\n    const onSuccess = ({ user }) => {\r\n      state.isValid = true\r\n      mdl.user = user\r\n      sessionStorage.setItem(\"token\", `Token ${user.token}`)\r\n      m.route.set(\"/home\")\r\n      console.log(\"success\", user)\r\n    }\r\n\r\n    const onError = (errors) => {\r\n      state.isValid = false\r\n      state.errors = errors\r\n      console.log(errors)\r\n    }\r\n\r\n    state.isSubmitted = true\r\n    validateRegisterTask(data)\r\n      .chain(registerTask(Http)(mdl))\r\n      .fork(onError, onSuccess)\r\n  }\r\n\r\n  return {\r\n    view: ({ attrs: { mdl } }) =>\r\n      m(\r\n        \"div.auth-page\",\r\n        m(\r\n          \"div.container.page\",\r\n          m(\r\n            \"div.row\",\r\n            m(\"div.col-md-6.offset-md-3.col-xs-12\", [\r\n              m(\"h1.text-xs-center\", \"Sign Up\"),\r\n              m(\r\n                \"p.text-xs-center\",\r\n                m(m.route.Link, { href: \"/login\" }, \"Have an account?\"),\r\n                state.errors[\"email or password\"] &&\r\n                  m(\r\n                    \".error-messages\",\r\n                    m(\r\n                      \"span\",\r\n                      `email or password  ${state.errors[\"email or password\"]}`\r\n                    )\r\n                  )\r\n              ),\r\n              m(\"form\", [\r\n                m(\r\n                  \"fieldset.form-group\",\r\n                  m(\"input.form-control.form-control-lg\", {\r\n                    type: \"text\",\r\n                    placeholder: \"Your Name\",\r\n                    onchange: (e) => (data.username = e.target.value),\r\n                    value: data.username,\r\n                    onblur: (e) => state.isSubmitted && validate,\r\n                  }),\r\n                  state.errors.username &&\r\n                    state.errors.username.map((error) =>\r\n                      m(\".error-messages\", m(\"span\", error))\r\n                    )\r\n                ),\r\n\r\n                m(\r\n                  \"fieldset.form-group\",\r\n                  m(\"input.form-control.form-control-lg\", {\r\n                    type: \"text\",\r\n                    placeholder: \"email\",\r\n                    onchange: (e) => (data.email = e.target.value),\r\n                    value: data.email,\r\n                    onblur: (e) => state.isSubmitted && validate,\r\n                  }),\r\n                  state.errors.email &&\r\n                    m(\".error-messages\", m(\"span\", state.errors.email))\r\n                ),\r\n                m(\r\n                  \"fieldset.form-group\",\r\n                  m(\"input.form-control.form-control-lg\", {\r\n                    type: \"password\",\r\n                    placeholder: \"password\",\r\n                    onchange: (e) => (data.password = e.target.value),\r\n                    value: data.password,\r\n                    onblur: (e) => state.isSubmitted && validate,\r\n                  }),\r\n                  state.errors.password &&\r\n                    m(\".error-messages\", m(\"span\", state.errors.password))\r\n                ),\r\n                m(\r\n                  \"button.btn.btn-lg.btn-primary.pull-xs-right\",\r\n                  { type: \"submit\", onclick: (e) => onSubmit(mdl) },\r\n                  \"Sign Up\"\r\n                ),\r\n              ]),\r\n            ])\r\n          )\r\n        )\r\n      ),\r\n  }\r\n}\r\n\r\nexport default Register\r\n","import { without } from \"ramda\"\r\n\r\nexport const FeedNav = ({ attrs: { fetchData } }) => {\r\n  return {\r\n    view: ({ attrs: { mdl, data } }) => {\r\n      console.log(mdl)\r\n      return m(\r\n        \".feed-toggle\",\r\n        m(\"ul.nav nav-pills outline-active\", [\r\n          mdl.user &&\r\n            m(\r\n              \"li.nav-item\",\r\n              m(\r\n                `.nav-link ${data.tags.current == \"feed\" && \"active\"}`,\r\n                {\r\n                  onclick: (e) => {\r\n                    data.tags.current = \"feed\"\r\n                    fetchData(mdl)\r\n                  },\r\n                },\r\n                \"Your Feed\"\r\n              )\r\n            ),\r\n\r\n          m(\r\n            \"li.nav-item\",\r\n            m(\r\n              `.nav-link ${data.tags.current == \"\" && \"active\"}`,\r\n              {\r\n                onclick: (e) => {\r\n                  data.tags.current = \"\"\r\n                  fetchData(mdl)\r\n                },\r\n              },\r\n              \"Global Feed\"\r\n            )\r\n          ),\r\n\r\n          data.tags.selected.map((tag) =>\r\n            m(\r\n              \"li.nav-item\",\r\n              m(`.nav-link ${data.tags.current == tag && \"active\"}`, [\r\n                m(\r\n                  \"span\",\r\n                  {\r\n                    onclick: (e) => {\r\n                      data.tags.current = tag\r\n                      fetchData(mdl)\r\n                    },\r\n                  },\r\n                  tag\r\n                ),\r\n                m(\"i.ion-close-circled\", {\r\n                  onclick: (e) =>\r\n                    (data.tags.selected = without(tag, data.tags.selected)),\r\n                }),\r\n              ])\r\n            )\r\n          ),\r\n        ])\r\n      )\r\n    },\r\n  }\r\n}\r\n","import Http from \"Http\"\r\nimport { loadDataTask, getArticlesTask } from \"./model\"\r\nimport { Banner, Loader, Paginator, ArticlePreview } from \"components\"\r\nimport { SideBar } from \"./sidebar\"\r\nimport { FeedNav } from \"./feednav.js\"\r\n\r\nconst Home = () => {\r\n  const data = {\r\n    tags: { tagList: [], selected: [], current: \"\" },\r\n    articles: {},\r\n  }\r\n  const state = {\r\n    status: \"loading\",\r\n    limit: 20,\r\n    offset: 0,\r\n    total: 0,\r\n    error: null,\r\n  }\r\n\r\n  const loadInitData = (mdl) => {\r\n    const onSuccess = ({ articles, articlesCount, tags }) => {\r\n      data.articles = articles\r\n      state.total = articlesCount\r\n      data.tags.tagList = tags\r\n      state.status = \"success\"\r\n    }\r\n\r\n    const onError = (error) => {\r\n      console.log(\"error\", error)\r\n      state.error = error\r\n      state.status = \"error\"\r\n    }\r\n    state.status = \"loading\"\r\n    loadDataTask(Http)(mdl)(state)(data).fork(onError, onSuccess)\r\n  }\r\n\r\n  const loadArticles = (mdl) => {\r\n    const onSuccess = ({ articles, articlesCount }) => {\r\n      data.articles = articles\r\n      state.total = articlesCount\r\n      state.status = \"success\"\r\n    }\r\n\r\n    const onError = (error) => {\r\n      console.log(\"error\", error)\r\n      state.error = error\r\n      state.status = \"error\"\r\n    }\r\n    state.status = \"loading\"\r\n    getArticlesTask(Http)(mdl)(state)(data).fork(onError, onSuccess)\r\n  }\r\n\r\n  return {\r\n    oninit: ({ attrs: { mdl } }) => loadInitData(mdl),\r\n    view: ({ attrs: { mdl } }) => {\r\n      return m(\".home\", [\r\n        !mdl.user &&\r\n          m(Banner, [\r\n            m(\"h1.logo-font\", \"conduit\"),\r\n            m(\"p\", \"A place to share your knowledge.\"),\r\n          ]),\r\n\r\n        state.status == \"error\" &&\r\n          m(Banner, [m(\"h1.logo-font\", `Error Loading Data: ${state.error}`)]),\r\n\r\n        state.status == \"success\" &&\r\n          m(\r\n            \".container page\",\r\n            m(\".row\", [\r\n              m(\".col-md-9\", [\r\n                m(FeedNav, { fetchData: loadArticles, mdl, data }),\r\n                data.articles.map((article) =>\r\n                  m(ArticlePreview, { mdl, data, article })\r\n                ),\r\n\r\n                state.status == \"loading\" &&\r\n                  m(Loader, [m(\"h1.logo-font\", \"Loading ...\")]),\r\n\r\n                m(Paginator, {\r\n                  mdl,\r\n                  state,\r\n                  fetchDataFor: (offset) => {\r\n                    state.offset = offset * state.limit\r\n                    loadArticles(mdl)\r\n                  },\r\n                }),\r\n              ]),\r\n\r\n              m(\".col-md-3\", m(SideBar, { mdl, data })),\r\n            ])\r\n          ),\r\n      ])\r\n    },\r\n  }\r\n}\r\n\r\nexport default Home\r\n","const getTagsTask = (http) => (mdl) => http.getTask(mdl)(\"tags\")\r\nexport const getArticlesTask = (http) => (mdl) => (state) => (data) =>\r\n  data.tags.current == \"feed\"\r\n    ? http.getTask(mdl)(`articles/feed?limit=20&offset=${state.offset}`)\r\n    : http.getTask(mdl)(\r\n        `articles?limit=20&offset=${state.offset}&tag=${data.tags.current}`\r\n      )\r\n\r\nexport const loadDataTask = (http) => (mdl) => (state) => (data) =>\r\n  Task.of((tags) => (articles) => ({ ...tags, ...articles }))\r\n    .ap(getTagsTask(http)(mdl))\r\n    .ap(getArticlesTask(http)(mdl)(state)(data))\r\n","export const SideBar = () => {\r\n  const selectTag = (data, tag) => (e) => data.tags.selected.push(tag)\r\n\r\n  return {\r\n    view: ({ attrs: { mdl, data } }) => {\r\n      return m(\".sidebar\", [\r\n        m(\"p\", \"Popular Tags\"),\r\n        m(\r\n          \".tag-list\",\r\n          data.tags.tagList.map((tag) =>\r\n            m(\".tag-pill tag-default\", { onclick: selectTag(data, tag) }, tag)\r\n          )\r\n        ),\r\n      ])\r\n    },\r\n  }\r\n}\r\n","import Http from \"Http\"\r\nimport { loadDataTask } from \"./model\"\r\nimport { Banner, Loader, ArticlePreview } from \"components\"\r\n\r\nconst Profile = () => {\r\n  const data = {}\r\n  const state = {\r\n    status: \"loading\",\r\n    showFaveArticles: false,\r\n    limit: 20,\r\n    offset: 0,\r\n    total: 0,\r\n    error: null,\r\n  }\r\n\r\n  const onSuccess = ({ authorArticles, authorFavoriteArticles, profile }) => {\r\n    data.authorArticles = authorArticles\r\n    data.authorFavoriteArticles = authorFavoriteArticles\r\n    data.profile = profile\r\n    console.log(\"data\", data)\r\n    state.status = \"success\"\r\n  }\r\n\r\n  const onError = (error) => {\r\n    console.log(\"error\", error)\r\n    state.error = error\r\n    state.status = \"error\"\r\n  }\r\n\r\n  const loadData = (mdl) => {\r\n    state.status = \"loading\"\r\n    loadDataTask(Http)(mdl)(state)(data).fork(onError, onSuccess)\r\n  }\r\n  return {\r\n    oninit: ({ attrs: { mdl } }) => loadData(mdl),\r\n    view: () =>\r\n      m(\r\n        \".profile-page\",\r\n\r\n        state.status == \"loading\" &&\r\n          m(Loader, [m(\"h1.logo-font\", \"Loading ...\")]),\r\n        state.status == \"error\" &&\r\n          m(Banner, [m(\"h1.logo-font\", `Error Loading Data: ${state.error}`)]),\r\n        state.status == \"success\" && [\r\n          m(\r\n            \".user-info\",\r\n            m(\r\n              \".container\",\r\n              m(\r\n                \".row\",\r\n                m(\".col-xs-12.col-md-10.offset-md-1\", [\r\n                  m(\"img.user-img\", { src: data.profile.image }),\r\n                  m(\"h4\", data.profile.username),\r\n                  m(\"p\", data.profile.bio),\r\n                  m(\"button.btn.btn-sm.btn-outline-secondary.action-btn\", [\r\n                    m(\"i.ion-plus-round\"),\r\n                    \" \",\r\n                    m.trust(\"&nbsp;\"),\r\n                    `Follow ${data.profile.username}`,\r\n                  ]),\r\n                ])\r\n              )\r\n            )\r\n          ),\r\n          m(\r\n            \".container\",\r\n            m(\r\n              \".row\",\r\n              m(\".col-xs-12.col-md-10.offset-md-1\", [\r\n                m(\r\n                  \".articles-toggle\",\r\n                  m(\"ul.nav.nav-pills.outline-active\", [\r\n                    m(\r\n                      \"li.nav-item\",\r\n                      m(\r\n                        `.nav-link ${!state.showFaveArticles && \"active\"}`,\r\n                        {\r\n                          onclick: (e) => (state.showFaveArticles = false),\r\n                        },\r\n                        \"My Articles\"\r\n                      )\r\n                    ),\r\n                    m(\r\n                      \"li.nav-item\",\r\n                      m(\r\n                        `.nav-link ${state.showFaveArticles && \"active\"}`,\r\n                        {\r\n                          onclick: (e) => (state.showFaveArticles = true),\r\n                        },\r\n                        \"Favorited Articles\"\r\n                      )\r\n                    ),\r\n                  ])\r\n                ),\r\n                state.showFaveArticles\r\n                  ? data.authorFavoriteArticles.articles.map((article) =>\r\n                      m(ArticlePreview, { article })\r\n                    )\r\n                  : data.authorArticles.articles.map((article) =>\r\n                      m(ArticlePreview, { article })\r\n                    ),\r\n              ])\r\n            )\r\n          ),\r\n        ]\r\n      ),\r\n  }\r\n}\r\n\r\nexport default Profile\r\n","const log = (m) => (v) => {\r\n  console.log(m, v), v\r\n}\r\n\r\nconst getProfileTask = (http) => (mdl) => (username) =>\r\n  http.getTask(mdl)(`profiles/${username}`)\r\n\r\nconst getAuthorArticlesTask = (http) => (mdl) => (state) => (username) =>\r\n  http.getTask(mdl)(\r\n    `articles?limit=20&offset=${state.offset}&author=${username}`\r\n  )\r\n\r\nconst getAuthorFavoriteArticlesTask = (http) => (mdl) => (state) => (\r\n  username\r\n) =>\r\n  http.getTask(mdl)(\r\n    `articles?limit=20&offset=${state.offset}&favorite=${username}`\r\n  )\r\n\r\nexport const loadDataTask = (http) => (mdl) => (state) => (data) =>\r\n  Task.of((profile) => (authorArticles) => (authorFavoriteArticles) => ({\r\n    ...profile,\r\n    authorArticles,\r\n    authorFavoriteArticles,\r\n  }))\r\n    .ap(getProfileTask(http)(mdl)(mdl.slug))\r\n    .ap(getAuthorArticlesTask(http)(mdl)(state)(mdl.slug))\r\n    .ap(getAuthorFavoriteArticlesTask(http)(mdl)(state)(mdl.slug))\r\n","import Layout from \"./layout/index.js\"\nimport Home from \"./pages/home/index\"\nimport Article from \"./pages/article/index\"\nimport Profile from \"./pages/profile/index\"\nimport Register from \"./pages/auth/register\"\nimport Login from \"./pages/auth/login\"\n\nconst routes = (mdl) => {\n  return {\n    \"/home\": {\n      onmatch: ({ slug }) => {\n        mdl.slug = slug\n      },\n      render: () => m(Layout, { mdl }, m(Home, { mdl })),\n    },\n\n    \"/article/:slug\": {\n      onmatch: ({ slug }) => {\n        mdl.slug = slug\n      },\n      render: () => m(Layout, { mdl }, m(Article, { mdl })),\n    },\n\n    \"/profile/:slug\": {\n      onmatch: ({ slug }) => {\n        mdl.slug = slug\n      },\n      render: () => m(Layout, { mdl }, m(Profile, { mdl, key: mdl.slug })),\n    },\n\n    \"/login\": {\n      onmatch: ({ slug }) => {\n        mdl.slug = slug\n      },\n      render: () => m(Layout, { mdl }, m(Login, { mdl })),\n    },\n\n    \"/register\": {\n      onmatch: ({ slug }) => {\n        mdl.slug = slug\n      },\n      render: () => m(Layout, { mdl }, m(Register, { mdl })),\n    },\n  }\n}\n\nexport default routes\n"]}